import{b3 as z,q as $,C as N,S as J,f as S,aN as C,j as k,bq as R,br as j,bs as q,bt as B,bu as V,bv as I,aO as P,au as W,bw as w,bx as y,by as Z,bz as H,bA as K,bB as G,i as M}from"#entry";function ae(e={}){const{inheritAttrs:a=!0}=e,u=C(),g=k({setup(p,{slots:d}){return()=>{u.value=d.default}}}),o=k({inheritAttrs:a,props:e.props,setup(p,{attrs:d,slots:t}){return()=>{var n;u.value;const r=(n=u.value)==null?void 0:n.call(u,{...e.props==null?Q(d):p,$slots:t});return a&&r?.length===1?r[0]:r}}});return R({define:g,reuse:o},[g,o])}function Q(e){const a={};for(const u in e)a[B(u)]=e[u];return a}const X=V?window:void 0,Y=V?window.document:void 0;function U(e){var a;const u=y(e);return(a=u?.$el)!=null?a:u}function F(...e){const a=[],u=()=>{a.forEach(t=>t()),a.length=0},g=(t,n,r,c)=>(t.addEventListener(n,r,c),()=>t.removeEventListener(n,r,c)),o=S(()=>{const t=w(y(e[0])).filter(n=>n!=null);return t.every(n=>typeof n!="string")?t:void 0}),p=Z(()=>{var t,n;return[(n=(t=o.value)==null?void 0:t.map(r=>U(r)))!=null?n:[X].filter(r=>r!=null),w(y(o.value?e[1]:e[0])),w(M(o.value?e[2]:e[1])),y(o.value?e[3]:e[2])]},([t,n,r,c])=>{if(u(),!t?.length||!n?.length||!r?.length)return;const v=G(c)?{...c}:c;a.push(...t.flatMap(i=>n.flatMap(f=>r.map(T=>g(i,f,T,v)))))},{flush:"post"}),d=()=>{p(),u()};return H(u),d}function ee(e){return JSON.parse(JSON.stringify(e))}function re(e,a={}){var u,g;const o=C(!1),p=C(null);let d=0,t=!0;if(V){const n=typeof a=="function"?{onDrop:a}:a,r=(u=n.multiple)!=null?u:!0,c=(g=n.preventDefaultForUnhandled)!=null?g:!1,v=l=>{var m,h;const s=Array.from((h=(m=l.dataTransfer)==null?void 0:m.files)!=null?h:[]);return s.length===0?null:r?s:[s[0]]},i=l=>{const m=M(n.dataTypes);return typeof m=="function"?m(l):m?.length?l.length===0?!1:l.every(h=>m.some(s=>h.includes(s))):!0},f=l=>{const m=Array.from(l??[]).map(_=>_.type),h=i(m),s=r||l.length<=1;return h&&s},T=()=>/^(?:(?!chrome|android).)*safari/i.test(navigator.userAgent)&&!("chrome"in window),b=(l,m)=>{var h,s,_,D,E,A;const L=(h=l.dataTransfer)==null?void 0:h.items;if(t=(s=L&&f(L))!=null?s:!1,c&&l.preventDefault(),!T()&&!t){l.dataTransfer&&(l.dataTransfer.dropEffect="none");return}l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect="copy");const x=v(l);switch(m){case"enter":d+=1,o.value=!0,(_=n.onEnter)==null||_.call(n,null,l);break;case"over":(D=n.onOver)==null||D.call(n,null,l);break;case"leave":d-=1,d===0&&(o.value=!1),(E=n.onLeave)==null||E.call(n,null,l);break;case"drop":d=0,o.value=!1,t&&(p.value=x,(A=n.onDrop)==null||A.call(n,x,l));break}};F(e,"dragenter",l=>b(l,"enter")),F(e,"dragover",l=>b(l,"over")),F(e,"dragleave",l=>b(l,"leave")),F(e,"drop",l=>b(l,"drop"))}return{files:p,isOverDropZone:o}}const O=new Map;function ue(e){const a=j();function u(t){var n;const r=O.get(e)||new Set;r.add(t),O.set(e,r);const c=()=>o(t);return(n=a?.cleanups)==null||n.push(c),c}function g(t){function n(...r){o(n),t(...r)}return u(n)}function o(t){const n=O.get(e);n&&(n.delete(t),n.size||p())}function p(){O.delete(e)}function d(t,n){var r;(r=O.get(e))==null||r.forEach(c=>c(t,n))}return{on:u,once:g,off:o,emit:d,reset:p}}const ne={multiple:!0,accept:"*",reset:!1,directory:!1};function te(e){if(!e)return null;if(e instanceof FileList)return e;const a=new DataTransfer;for(const u of e)a.items.add(u);return a.files}function oe(e={}){const{document:a=Y}=e,u=$(te(e.initialFiles)),{on:g,trigger:o}=I(),{on:p,trigger:d}=I(),t=S(()=>{var v;const i=(v=U(e.input))!=null?v:a?a.createElement("input"):void 0;return i&&(i.type="file",i.onchange=f=>{const T=f.target;u.value=T.files,o(u.value)},i.oncancel=()=>{d()}),i}),n=()=>{u.value=null,t.value&&t.value.value&&(t.value.value="",o(null))},r=v=>{const i=t.value;i&&(i.multiple=y(v.multiple),i.accept=y(v.accept),i.webkitdirectory=y(v.directory),K(v,"capture")&&(i.capture=y(v.capture)))},c=v=>{const i=t.value;if(!i)return;const f={...ne,...e,...v};r(f),y(f.reset)&&n(),i.click()};return P(()=>{r(e)}),{files:W(u),open:c,reset:n,onCancel:p,onChange:g}}function se(e,a,u,g={}){var o,p,d;const{clone:t=!1,passive:n=!1,eventName:r,deep:c=!1,defaultValue:v,shouldEmit:i}=g,f=z(),T=u||f?.emit||((o=f?.$emit)==null?void 0:o.bind(f))||((d=(p=f?.proxy)==null?void 0:p.$emit)==null?void 0:d.bind(f?.proxy));let b=r;b=b||`update:${a.toString()}`;const l=s=>t?typeof t=="function"?t(s):ee(s):s,m=()=>q(e[a])?l(e[a]):v,h=s=>{i?i(s)&&T(b,s):T(b,s)};if(n){const s=m(),_=$(s);let D=!1;return N(()=>e[a],E=>{D||(D=!0,_.value=l(E),J(()=>D=!1))}),N(_,E=>{!D&&(E!==e[a]||c)&&h(E)},{deep:c}),_}else return S({get(){return m()},set(s){h(s)}})}export{oe as a,se as b,ae as c,ue as d,re as u};
