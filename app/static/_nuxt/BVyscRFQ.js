import{_}from"./JhUiaiGg.js";import{j as k,z as v,q as u,A as h,c as i,o as r,b as a,i as t,a as l,k as g,t as B}from"#entry";import{_ as b}from"./B6Yuqq6_.js";import{_ as w}from"./rOla49PQ.js";import{u as y}from"./Qdc9UZxI.js";import{u as P}from"./mqmIq7AT.js";import"./CBf3hF8c.js";import"./DGycg10u.js";import"./BDYeLtO0.js";import"./B4JnBqUr.js";import"./DqPfgwhY.js";import"./BRhnR30E.js";import"./kRIii9yh.js";import"./VbgD5_u9.js";import"./QkSgYxCE.js";import"./BVhyiyNc.js";import"./B8ufzAAH.js";import"./Cfw6G_CD.js";import"./CoCDlcmg.js";import"./DJUnOCSR.js";import"./BOfFLyal.js";const R={class:"flex flex-col items-center w-full min-h-screen pt-4 px-4 md:px-8 lg:px-15"},A={key:0,class:"flex w-full px-10 py-5"},L={class:"flex-1 flex flex-col gap-2"},U={class:"flex-1 flex flex-col items-end gap-1"},V={key:1,class:"flex w-full px-10 py-5"},G={class:"flex-1 flex flex-col gap-1"},S={class:"flex items-center gap-2"},W={class:"flex-1 flex flex-col items-end gap-1"},C={class:"flex items-center gap-2"},D={key:0,class:"font-bold text-3xl text-accent"},N={key:1,class:"font-bold text-3xl text-accent"},ae=k({__name:"browse",setup(j){const s=v({searchValue:"",selectedBookGenre:"All Genres",selectedBookAvailability:"All",selectedPriceRange:{minPrice:null,maxPrice:null},kmRadius:null,userLat:null,userLng:null}),d=u(0),c=u(!0);return h(async()=>{c.value=!0;const m=await y();d.value=m.currentWalletBalance??0;const{profile:e,fetchProfile:n}=P();e.value||await n(),e.value?.address?.latitude&&e.value?.address?.longitude&&(s.userLat=e.value.address.latitude,s.userLng=e.value.address.longitude),c.value=!1}),(m,e)=>{const n=_,p=g,f=b,x=w;return r(),i("div",R,[t(c)?(r(),i("div",A,[l("div",L,[a(n,{class:"h-9 w-60"}),a(n,{class:"h-5 w-90"})]),l("div",U,[a(n,{class:"h-5 w-25"}),a(n,{class:"h-9 w-20"})])])):(r(),i("div",V,[l("div",G,[l("div",S,[a(p,{name:"material-symbols:search",class:"w-8 h-8 text-base"}),e[5]||(e[5]=l("h1",{class:"font-bold text-3xl"},"Browse Books",-1))]),e[6]||(e[6]=l("p",{class:"text-muted"},"Discover and rent books from the community.",-1))]),l("div",W,[e[7]||(e[7]=l("p",{class:"text-muted"},"Your Readits",-1)),l("div",C,[a(p,{name:"fluent:book-coins-20-regular",class:"w-8 h-8 text-accent"}),t(c)?(r(),i("h1",D,"-")):(r(),i("h1",N,B(t(d)),1))])])])),a(f,{"header-state":t(s),"onUpdate:searchValue":e[0]||(e[0]=o=>t(s).searchValue=o),"onUpdate:selectedBookGenre":e[1]||(e[1]=o=>t(s).selectedBookGenre=o),"onUpdate:selectedBookAvailability":e[2]||(e[2]=o=>t(s).selectedBookAvailability=o),"onUpdate:selectedPriceRange":e[3]||(e[3]=o=>t(s).selectedPriceRange=o),"onUpdate:kmRadius":e[4]||(e[4]=o=>t(s).kmRadius=o)},null,8,["header-state"]),a(x,{"book-list-variant":"default","header-state":t(s)},null,8,["header-state"])])}}});export{ae as default};
