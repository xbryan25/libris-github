import{ba as K,p as T,bb as N,x as E,ar as U,A as M,a9 as x,ao as I,bc as C,b0 as R,J as D,L as $,at as q,y as j,bd as H,e as Y,j as X,M as G,a8 as B,f as J,o as V,w as z,r as Q,k as Z,P as ee,av as k,be as te,bf as b,bg as A,bh as ne,bi as re,bj as F,bk as _}from"#entry";const ae=K(()=>{const e=E(new Map),t=E(),n=T(()=>{for(const v of e.value.values())if(v)return!0;return!1}),o=U({scrollBody:E(!0)});let c=null;const p=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",C&&c?.(),t.value=void 0};return M(n,(v,m)=>{if(!x)return;if(!v){m&&p();return}t.value===void 0&&(t.value=document.body.style.overflow);const l=window.innerWidth-document.documentElement.clientWidth,h={padding:l,margin:0},a=o.scrollBody?.value?typeof o.scrollBody.value=="object"?I({padding:o.scrollBody.value.padding===!0?l:o.scrollBody.value.padding,margin:o.scrollBody.value.margin===!0?l:o.scrollBody.value.margin},h):h:{padding:0,margin:0};l>0&&(document.body.style.paddingRight=typeof a.padding=="number"?`${a.padding}px`:String(a.padding),document.body.style.marginRight=typeof a.margin=="number"?`${a.margin}px`:String(a.margin),document.documentElement.style.setProperty("--scrollbar-width",`${l}px`),document.body.style.overflow="hidden"),C&&(c=R(document,"touchmove",r=>oe(r),{passive:!1})),D(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function me(e){const t=Math.random().toString(36).substring(2,7),n=ae();n.value.set(t,e??!1);const o=T({get:()=>n.value.get(t)??!1,set:c=>n.value.set(t,c)});return N(()=>{n.value.delete(t)}),o}function W(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:W(n)}}function oe(e){const t=e||window.event,n=t.target;return n instanceof Element&&W(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}var se=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},g=new WeakMap,w=new WeakMap,S={},O=0,P=function(e){return e&&(e.host||P(e.parentNode))},ue=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=P(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ie=function(e,t,n,o){var c=ue(t,Array.isArray(e)?e:[e]);S[n]||(S[n]=new WeakMap);var p=S[n],v=[],m=new Set,l=new Set(c),h=function(r){!r||m.has(r)||(m.add(r),h(r.parentNode))};c.forEach(h);var a=function(r){!r||l.has(r)||Array.prototype.forEach.call(r.children,function(s){if(m.has(s))a(s);else try{var d=s.getAttribute(o),u=d!==null&&d!=="false",i=(g.get(s)||0)+1,f=(p.get(s)||0)+1;g.set(s,i),p.set(s,f),v.push(s),i===1&&u&&w.set(s,!0),f===1&&s.setAttribute(n,"true"),u||s.setAttribute(o,"true")}catch(y){console.error("aria-hidden: cannot operate on ",s,y)}})};return a(t),m.clear(),O++,function(){v.forEach(function(r){var s=g.get(r)-1,d=p.get(r)-1;g.set(r,s),p.set(r,d),s||(w.has(r)||r.removeAttribute(o),w.delete(r)),d||r.removeAttribute(n)}),O--,O||(g=new WeakMap,g=new WeakMap,w=new WeakMap,S={})}},ce=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),c=se(e);return c?(o.push.apply(o,Array.from(c.querySelectorAll("[aria-live], script"))),ie(o,c,n,"aria-hidden")):function(){return null}};function ye(e){let t;M(()=>q(e),n=>{n?t=ce(n):t&&t()}),$(()=>{t&&t()})}function he(e,t="reka"){return`${t}-${j?.()}`}const le=H(()=>E([]));function de(){const e=le();return{add(t){const n=e.value[0];t!==n&&n?.pause(),e.value=L(e.value,t),e.value.unshift(t)},remove(t){e.value=L(e.value,t),e.value[0]?.resume()}}}function L(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function fe(e){return e.filter(t=>t.tagName!=="A")}var ve=Y({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,o=t,{currentRef:c,currentElement:p}=X(),v=E(null),m=de(),l=G({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});B(a=>{if(!x)return;const r=p.value;if(!n.trapped)return;function s(f){if(l.paused||!r)return;const y=f.target;r.contains(y)?v.value=y:b(v.value,{select:!0})}function d(f){if(l.paused||!r)return;const y=f.relatedTarget;y!==null&&(r.contains(y)||b(v.value,{select:!0}))}function u(f){r.contains(v.value)||b(r)}document.addEventListener("focusin",s),document.addEventListener("focusout",d);const i=new MutationObserver(u);r&&i.observe(r,{childList:!0,subtree:!0}),a(()=>{document.removeEventListener("focusin",s),document.removeEventListener("focusout",d),i.disconnect()})}),B(async a=>{const r=p.value;if(await D(),!r)return;m.add(l);const s=k();if(!r.contains(s)){const u=new CustomEvent(A,_);r.addEventListener(A,i=>o("mountAutoFocus",i)),r.dispatchEvent(u),u.defaultPrevented||(ne(fe(re(r)),{select:!0}),k()===s&&b(r))}a(()=>{r.removeEventListener(A,f=>o("mountAutoFocus",f));const u=new CustomEvent(F,_),i=f=>{o("unmountAutoFocus",f)};r.addEventListener(F,i),r.dispatchEvent(u),setTimeout(()=>{u.defaultPrevented||b(s??document.body,{select:!0}),r.removeEventListener(F,i),m.remove(l)},0)})});function h(a){if(!n.loop&&!n.trapped||l.paused)return;const r=a.key==="Tab"&&!a.altKey&&!a.ctrlKey&&!a.metaKey,s=k();if(r&&s){const d=a.currentTarget,[u,i]=te(d);u&&i?!a.shiftKey&&s===i?(a.preventDefault(),n.loop&&b(u,{select:!0})):a.shiftKey&&s===u&&(a.preventDefault(),n.loop&&b(i,{select:!0})):s===d&&a.preventDefault()}}return(a,r)=>(V(),J(Z(ee),{ref_key:"currentRef",ref:c,tabindex:"-1","as-child":a.asChild,as:a.as,onKeydown:h},{default:z(()=>[Q(a.$slots,"default")]),_:3},8,["as-child","as"]))}}),be=ve;export{be as F,ye as a,he as b,me as u};
