import{_ as S}from"./D1dR2VOv.js";import{e as T,r as $,m as y,c as A,o as h,a as t,b as d,g as C,t as p,q as a,w as r,f as P,s as x,h as F,d as _,_ as q}from"#entry";import{_ as B}from"./DFSraatG.js";import{_ as N,a as E}from"./B3U5XhPR.js";function j(s,g){const m=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,c=/^.{8,}$/,o=/^\s*$/,e=[];return g==="login"&&(!s.emailAddress||o.test(s.emailAddress)?e.push({name:"emailAddress",message:"Email address is required."}):s.emailAddress&&!m.test(s.emailAddress)&&e.push({name:"emailAddress",message:"Wrong email address format."}),!s.password||o.test(s.password)?e.push({name:"password",message:"Password is required."}):s.password&&!c.test(s.password)&&e.push({name:"password",message:"Passwords should be at least 8 characters long."})),g==="signup"&&(!s.username||o.test(s.username)?e.push({name:"username",message:"Username is required."}):s.username&&s.username.length<3?e.push({name:"username",message:"Username must be at least 3 characters long."}):s.username&&s.username.length>64&&e.push({name:"username",message:"Username must not exceed 64 characters."}),!s.emailAddress||o.test(s.emailAddress)?e.push({name:"emailAddress",message:"Email address is required."}):s.emailAddress&&!m.test(s.emailAddress)&&e.push({name:"emailAddress",message:"Wrong email address format."}),!s.password||o.test(s.password)?e.push({name:"password",message:"Password is required."}):s.password&&!c.test(s.password)?e.push({name:"password",message:"Passwords should be at least 8 characters long."}):s.password&&s.password.length>64&&e.push({name:"password",message:"Password must not exceed 64 characters."}),!s.confirmPassword||o.test(s.confirmPassword)?e.push({name:"confirmPassword",message:"Confirm password is required."}):s.password!==s.confirmPassword&&e.push({name:"confirmPassword",message:"Passwords do not match."})),e}const R={class:"flex flex-col gap-10 box-border px-[10%] pb-[10%] max-w-2xl w-full"},z={class:"mr-auto"},D={class:"flex gap-3"},H={class:"flex flex-col gap-1"},I={class:"text-3xl font-bold"},O={key:2,class:"text-sm text-violet-700 dark:text-violet-500 cursor-pointer"},W={class:"flex gap-1"},M={class:"text-sm"},G=T({__name:"AuthForm",props:{authType:{},isLoading:{type:Boolean}},emits:["onSubmitLogin","onSubmitSignup"],setup(s,{emit:g}){const m=s,c=g,o=$({emailAddress:"",password:"",username:"",confirmPassword:""}),e=y(!1),u=y(!1),v=async l=>{m.authType==="login"?c("onSubmitLogin",l.data.emailAddress,l.data.password):m.authType==="signup"&&c("onSubmitSignup",l.data.username,l.data.emailAddress,l.data.password)};return(l,n)=>{const L=S,V=C,w=B,f=E,b=F,U=q,k=N;return h(),A("div",R,[t("div",z,[d(L)]),t("div",D,[d(V,{name:"icons:logo",class:"w-12 h-12"}),n[7]||(n[7]=t("h1",{class:"text-5xl font-extrabold"},"Libris",-1))]),t("div",H,[t("h2",I,p(s.authType==="login"?"Login":"Sign Up"),1),t("h3",null,p(s.authType==="login"?"Open the door to endless reading --- your next book awaits.":"Create your account and start your reading journey today."),1)]),d(k,{validate:i=>("validateAuthForm"in l?l.validateAuthForm:a(j))(i,m.authType),state:a(o),class:"space-y-4",onSubmit:n[6]||(n[6]=i=>v(i))},{default:r(()=>[s.authType==="signup"?(h(),P(f,{key:0,label:"Username",name:"username"},{default:r(()=>[d(w,{modelValue:a(o).username,"onUpdate:modelValue":n[0]||(n[0]=i=>a(o).username=i),class:"w-100",disabled:s.isLoading},null,8,["modelValue","disabled"])]),_:1})):x("",!0),d(f,{label:"Email Address",name:"emailAddress"},{default:r(()=>[d(w,{modelValue:a(o).emailAddress,"onUpdate:modelValue":n[1]||(n[1]=i=>a(o).emailAddress=i),class:"w-100",disabled:s.isLoading},null,8,["modelValue","disabled"])]),_:1}),d(f,{label:"Password",name:"password"},{default:r(()=>[d(w,{modelValue:a(o).password,"onUpdate:modelValue":n[3]||(n[3]=i=>a(o).password=i),type:a(e)?"text":"password",class:"w-100",disabled:s.isLoading,ui:{trailing:"pe-1"}},{trailing:r(()=>[d(b,{color:"neutral",variant:"link",size:"sm",icon:a(e)?"heroicons:eye-slash":"heroicons:eye","aria-label":a(e)?"Hide password":"Show password","aria-pressed":a(e),onClick:n[2]||(n[2]=i=>e.value=!a(e)),disabled:s.isLoading},null,8,["icon","aria-label","aria-pressed","disabled"])]),_:1},8,["modelValue","type","disabled"])]),_:1}),s.authType==="signup"?(h(),P(f,{key:1,label:"Confirm Password",name:"confirmPassword"},{default:r(()=>[d(w,{modelValue:a(o).confirmPassword,"onUpdate:modelValue":n[5]||(n[5]=i=>a(o).confirmPassword=i),type:a(u)?"text":"password",class:"w-100",disabled:s.isLoading,ui:{trailing:"pe-1"}},{trailing:r(()=>[d(b,{color:"neutral",variant:"link",size:"sm",icon:a(u)?"heroicons:eye-slash":"heroicons:eye","aria-label":a(u)?"Hide password":"Show password","aria-pressed":a(u),onClick:n[4]||(n[4]=i=>u.value=!a(u)),disabled:s.isLoading},null,8,["icon","aria-label","aria-pressed","disabled"])]),_:1},8,["modelValue","type","disabled"])]),_:1})):x("",!0),s.authType==="login"?(h(),A("p",O," Forgot your password? ")):x("",!0),d(b,{type:"submit",class:"w-100 h-9 cursor-pointer justify-center text-lg font-bold",disabled:s.isLoading,loading:s.isLoading},{default:r(()=>[_(p(s.isLoading?s.authType==="login"?"Logging in...":"Please wait...":s.authType==="login"?"Login":"Sign Up"),1)]),_:1},8,["disabled","loading"]),t("div",W,[t("p",M,p(s.authType==="login"?"Don't have an account?":"Already have an account?"),1),d(U,{to:s.authType==="login"?"/signup":"/login",class:"text-sm text-violet-700 dark:text-violet-500 cursor-pointer"},{default:r(()=>[_(p(s.authType==="login"?"Sign Up":"Login"),1)]),_:1},8,["to"])])]),_:1},8,["validate","state"])])}}}),Y=Object.assign(G,{__name:"AuthForm"});export{Y as _};
