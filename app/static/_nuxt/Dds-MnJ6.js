import{_ as h}from"./B7NIlbhz.js";import{j as m,f as g,h as _,o as $,w as u,a as f,t as c,i as d,x as M,ai as l}from"#entry";function y(t,o){const e=new Date(t);if(o==="short")return e.toLocaleDateString("en-US",{month:"short",day:"numeric"});{const n={weekday:"short",month:"short",day:"numeric"},a={hour:"numeric",minute:"numeric",hour12:!0};return`${e.toLocaleDateString("en-US",n)}, ${e.toLocaleTimeString("en-US",a)}`}}function D(t){const o=new Date,e=new Date(t),n=o.getTime()-e.getTime();return x(n)}function x(t){const o=Math.floor(t/1e3)%60,e=Math.floor(t/(1e3*60))%60,n=Math.floor(t/(1e3*60*60))%24,a=Math.floor(t/(1e3*60*60*24)),i=Math.floor(t/(1e3*60*60*24*7)),r=Math.floor(t/(1e3*60*60*24*30)),s=Math.floor(t/(1e3*60*60*24*365));return s==1?`${s} year ago`:s>0?`${s} years ago`:r==1?`${r} month ago`:r>0?`${r} month ago`:i==1?`${i} week ago`:i>0?`${i} week ago`:a==1?`${a} day ago`:a>0?`${a} days ago`:n==1?`${n} hour ago`:n>0?`${n} hours ago`:e==1?`${e} minute ago`:e>0?`${e} minutes ago`:o==1?`${o} second ago`:`${o} seconds ago`}const N={class:"w-full font-bold text-2xl"},w={class:"text-justify"},k={class:"font-bold text-sm"},S=m({__name:"NotificationDetailsModal",props:{isOpenNotificationModal:{type:Boolean},header:{},message:{},createdAt:{}},emits:["update:openNotificationModal"],setup(t,{emit:o}){const e=t,n=o,a=g({get:()=>e.isOpenNotificationModal,set:i=>{n("update:openNotificationModal",i)}});return(i,r)=>{const s=h;return $(),_(s,{open:d(a),"onUpdate:open":r[0]||(r[0]=p=>M(a)?a.value=p:null),ui:{content:"max-w-2xl"}},{header:u(()=>[f("h2",N,c(e.header),1)]),body:u(()=>[f("p",w,c(e.message),1)]),footer:u(()=>[f("p",k,c(d(y)(e.createdAt,"long"))+" ("+c(d(D)(e.createdAt))+") ",1)]),_:1},8,["open"])}}}),O=Object.assign(S,{__name:"NotificationDetailsModal"});function b(t){const{$apiFetch:o}=l();return o(`/api/notifications/${t}/mark-as-read`,{method:"PATCH",credentials:"include"})}function C(t){const{$apiFetch:o}=l();return o("/api/notifications",{method:"GET",credentials:"include",query:{...t||{}}})}function U(t){const{$apiFetch:o}=l();return o("/api/notifications/total-count",{method:"GET",credentials:"include",query:{readStatus:t}})}export{O as _,C as a,U as b,y as d,b as u};
