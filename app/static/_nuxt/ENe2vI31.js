import{aN as B,e as w,r as h,q as g,c as f,o as u,b as s,a as e,t as p,l as t,_ as v,w as _,b1 as N,ae as P}from"#entry";import{_ as L}from"./DwNUSdOk.js";import{_ as z}from"./BGKwoky8.js";import{_ as C}from"./Co-oNVCu.js";import{u as D,P as I,b as U}from"./BGx9VsGh.js";import"./DtqH_ZTs.js";import"./C5QPy4Au.js";import"./DlAUqK2U.js";import"./BLPNKcz8.js";function j(a){const{$apiFetch:i}=B();return i(`/api/users/library-details/${a}`,{method:"GET",credentials:"include"})}const O={key:0,class:"w-full max-w-[1500px] h-auto bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 border-radius rounded-lg flex flex-col items-stretch px-16 gap-8 py-6"},R={class:"flex-1 flex w-full items-stretch mb-8"},V={class:"flex-1 flex gap-x-10 w-full pr-20"},E={class:"flex-1 flex flex-col gap-2"},F={class:"flex-1 flex flex-col gap-2"},S={class:"flex-1 flex flex-col gap-2"},T={key:1,class:"w-[1500px] h-[350px] bg-surface border-base flex items-center justify-center"},A={class:"text-lg text-red-500"},G={key:2,class:"w-full max-w-[1500px] h-auto bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 border-radius rounded-lg flex flex-col items-stretch px-16 py-6"},M={class:"flex-1 flex w-full items-stretch mb-8"},q={class:"flex-1 flex gap-x-10 w-full pr-20"},H={class:"flex-1 flex flex-col"},J={class:"text-[20px] text-muted truncate max-w-full"},K={class:"flex-1 flex flex-col"},Q={class:"text-[20px] text-muted truncate max-w-full"},W={class:"flex-1 flex flex-col"},X={class:"text-[20px] text-muted truncate max-w-full"},Y={class:"truncate block max-w-[225px] sm:max-w-[325px] md:max-w-[375px] lg:max-w-[475px] xl:max-w-[525px] 2xl:max-w-[625px]"},Z=w({__name:"ProfileLibraryDetails",props:{profile:{},loading:{type:Boolean},error:{},userId:{}},setup(a){const i=a,c=i.userId,d=h(0),m=h(0),x=h(0);return g(async()=>{const r=await j(c);d.value=r.booksOwned??0,m.value=r.booksRented??0,x.value=r.booksBought??0}),(r,o)=>{const l=z,n=C,b=v;return i.loading?(u(),f("div",O,[s(l,{class:"h-10 w-64"}),e("div",R,[e("div",V,[e("div",E,[s(l,{class:"h-8 w-45"}),s(l,{class:"h-6 w-10"})]),e("div",F,[s(l,{class:"h-8 w-45"}),s(l,{class:"h-6 w-10"})]),e("div",S,[s(l,{class:"h-8 w-45"}),s(l,{class:"h-6 w-10"})])]),s(l,{class:"flex-1 flex h-auto"})])])):a.error?(u(),f("div",T,[e("div",A,"Error: "+p(a.error),1)])):(u(),f("div",G,[o[3]||(o[3]=e("div",{class:"text-[32px] font-bold text-base pb-8"},"Library Details",-1)),e("div",M,[e("div",q,[e("div",H,[o[0]||(o[0]=e("div",{class:"text-[25px] font-semibold text-base"},"Owned Books",-1)),e("div",J,p(t(d)),1)]),e("div",K,[o[1]||(o[1]=e("div",{class:"text-[25px] font-semibold text-base"},"Rented Books",-1)),e("div",Q,p(t(m)),1)]),e("div",W,[o[2]||(o[2]=e("div",{class:"text-[25px] font-semibold text-base"},"Bought Books",-1)),e("div",X,p(t(x)),1)])]),s(b,{to:`/users/${t(c)}/collection`,class:"flex-1 flex h-auto items-center justify-center font-bold text-2xl cursor-pointer bg-primary-600 rounded-xl"},{default:_(()=>[s(n,{text:`View ${i.profile?.username||"-"}'s book collection`},{default:_(()=>[e("span",Y," View "+p(i.profile?.username||"-")+"'s book collection ",1)]),_:1},8,["text"])]),_:1},8,["to"])])]))}}}),ee=Object.assign(Z,{__name:"ProfileLibraryDetails"}),te={class:"min-h-screen w-full py-10 px-4 md:px-8 lg:px-15"},se={key:0,class:"flex items-center justify-center h-screen"},oe={class:"text-center p-6"},le={key:1,class:"mt-20 gap-10 flex flex-col justify-center items-center"},pe=w({__name:"index",setup(a){const c=N().params.id,{profile:d,fetchProfile:m,loading:x,error:r,isUserNotFound:o}=D(c);return g(()=>{m()}),(l,n)=>{const b=P,k=v,y=L,$=ee;return u(),f("div",te,[t(o)?(u(),f("div",se,[s(y,{class:"bg-surface border-base max-w-md"},{default:_(()=>[e("div",oe,[s(b,{name:"i-heroicons-exclamation-triangle",class:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),n[1]||(n[1]=e("h2",{class:"text-2xl font-bold text-base mb-2"}," User Not Found ",-1)),n[2]||(n[2]=e("p",{class:"text-muted mb-4"}," The user you're trying to view does not exist or may have been removed. ",-1)),s(k,{to:"/users/me",class:"px-6 py-2 bg-accent text-white rounded-lg hover:bg-accent/90 transition cursor-pointer"},{default:_(()=>[...n[0]||(n[0]=[e("span",null," Go Back ",-1)])]),_:1})])]),_:1})])):(u(),f("div",le,[s(I,{profile:t(d),loading:t(x),error:t(r),"user-id":t(c)},null,8,["profile","loading","error","user-id"]),s(U,{profile:t(d),loading:t(x),error:t(r)},null,8,["profile","loading","error"]),s($,{profile:t(d),loading:t(x),error:t(r),"user-id":t(c)},null,8,["profile","loading","error","user-id"])]))])}}});export{pe as default};
