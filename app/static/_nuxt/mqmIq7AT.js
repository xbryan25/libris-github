import{q as s,f as u,ai as f}from"#entry";const i="http://127.0.0.1:8080",_=n=>{const r=s(null),o=s(!0),t=s(null),l=u(()=>t.value==="User not found."||t.value==="Invalid user ID format."),{$apiFetch:c}=f();return{profile:r,loading:o,error:t,isUserNotFound:l,fetchProfile:async()=>{o.value=!0,t.value=null;try{const a=n?`${i}/api/users/profile/${n}`:`${i}/api/users/profile/me`,e=await c(a,{credentials:"include"});e.address||(e.address={street:"-",barangay:"-",city:"-",country:"-",postal_code:"-"}),e.account_activated_at&&(e.account_activated_at=new Date(e.account_activated_at).toLocaleDateString("en-US",{month:"long",day:"2-digit",year:"numeric"})),e.date_of_birth&&(e.date_of_birth=new Date(e.date_of_birth).toLocaleDateString("en-US",{month:"long",day:"2-digit",year:"numeric"})),r.value=e}catch(a){a?.response?.status===404?t.value="User not found.":a?.response?.status===400?t.value="Invalid user ID format.":t.value=a?.message||"Failed to fetch profile info"}finally{o.value=!1}}}};export{_ as u};
