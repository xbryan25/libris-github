import{_ as D}from"./JhUiaiGg.js";import{E as F,e as E,f as z,g as T,c as d,o as n,b as o,w as v,B as f,n as u,r as g,d as P,t as b,a as t,i as p,h as $,L as j,F as R,J as L,Q as Y,l as U,P as _,ai as G,j as W,q as S,v as J,s as O,ay as A,C as I,k as V,x as Q,A as H}from"#entry";import{_ as K}from"./5MqpBYnd.js";import{c as X}from"./DGycg10u.js";import{_ as Z}from"./BOfFLyal.js";import{_ as ee}from"./CoCDlcmg.js";import{_ as te}from"./BdGgjiO2.js";import{u as le}from"./Qdc9UZxI.js";import"./DJUnOCSR.js";import"./CxmxAOEW.js";import"./QkSgYxCE.js";import"./DNBF-Q6I.js";const se={slots:{root:"relative grid rounded-lg p-6 lg:p-8 xl:p-10 gap-6",header:"",body:"flex flex-col min-w-0",footer:"flex flex-col gap-6 items-center",titleWrapper:"flex items-center gap-3",title:"text-highlighted text-2xl sm:text-3xl text-pretty font-semibold",description:"text-muted text-base text-pretty mt-2",priceWrapper:"flex items-center gap-1",price:"text-highlighted text-3xl sm:text-4xl font-semibold",discount:"text-muted line-through text-xl sm:text-2xl",billing:"flex flex-col justify-between min-w-0",billingPeriod:"text-toned truncate text-xs font-medium",billingCycle:"text-muted truncate text-xs font-medium",features:"flex flex-col gap-3 flex-1 mt-6 grow-0",feature:"flex items-center gap-2 min-w-0",featureIcon:"size-5 shrink-0 text-primary",featureTitle:"text-muted text-sm truncate",badge:"",button:"",tagline:"text-base font-semibold text-default",terms:"text-xs/5 text-muted text-center text-balance"},variants:{orientation:{horizontal:{root:"grid-cols-1 lg:grid-cols-3 justify-between divide-y lg:divide-y-0 lg:divide-x divide-default",body:"lg:col-span-2 pb-6 lg:pb-0 lg:pr-6 justify-center",footer:"lg:justify-center lg:items-center lg:p-6 lg:max-w-xs lg:w-full lg:mx-auto",features:"lg:grid lg:grid-cols-2 lg:mt-12"},vertical:{footer:"justify-end",priceWrapper:"mt-6"}},variant:{solid:{root:"bg-inverted",title:"text-inverted",description:"text-dimmed",price:"text-inverted",discount:"text-dimmed",billingCycle:"text-dimmed",billingPeriod:"text-dimmed",featureTitle:"text-dimmed"},outline:{root:"bg-default ring ring-default"},soft:{root:"bg-elevated/50"},subtle:{root:"bg-elevated/50 ring ring-default"}},highlight:{true:{root:"ring-2 ring-inset ring-primary"}},scale:{true:{root:"lg:scale-[1.1] lg:z-[1]"}}},compoundVariants:[{orientation:"horizontal",variant:"soft",class:{root:"divide-accented"}},{orientation:"horizontal",variant:"subtle",class:{root:"divide-accented"}}],defaultVariants:{variant:"outline"}},ae=Object.assign({inheritAttrs:!1},{__name:"UPricingPlan",props:{as:{type:null,required:!1},title:{type:String,required:!1},description:{type:String,required:!1},badge:{type:[String,Object],required:!1},billingCycle:{type:String,required:!1},billingPeriod:{type:String,required:!1},price:{type:String,required:!1},discount:{type:String,required:!1},features:{type:Array,required:!1},button:{type:Object,required:!1},tagline:{type:String,required:!1},terms:{type:String,required:!1},orientation:{type:null,required:!1,default:"vertical"},variant:{type:null,required:!1},highlight:{type:Boolean,required:!1},scale:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(e){const l=e,i=F(),k=E(),[x,w]=X(),s=z(()=>T({extend:T(se),...k.ui?.pricingPlan||{}})({orientation:l.orientation,variant:l.variant,highlight:l.highlight,scale:l.scale})),y=z(()=>l.features?.map(a=>typeof a=="string"?{title:a}:a));return(a,c)=>(n(),d(R,null,[o(p(x),null,{default:v(()=>[e.discount||e.price||i.discount||i.price||e.billingCycle||e.billingPeriod||i.billing?(n(),d("div",{key:0,class:u(s.value.priceWrapper({class:l.ui?.priceWrapper}))},[e.discount&&e.price||i.discount?(n(),d("div",{key:0,class:u(s.value.discount({class:l.ui?.discount}))},[g(a.$slots,"discount",{},()=>[P(b(e.price),1)])],2)):f("",!0),e.discount||e.price||i.price?(n(),d("div",{key:1,class:u(s.value.price({class:l.ui?.price}))},[g(a.$slots,"price",{},()=>[P(b(e.discount||e.price),1)])],2)):f("",!0),e.billingCycle||e.billingPeriod||i.billing?(n(),d("div",{key:2,class:u(s.value.billing({class:l.ui?.billing}))},[g(a.$slots,"billing",{},()=>[t("span",{class:u(s.value.billingPeriod({class:l.ui?.billingPeriod}))},b(e.billingPeriod||" "),3),e.billingCycle?(n(),d("span",{key:0,class:u(s.value.billingCycle({class:l.ui?.billingCycle}))},b(e.billingCycle),3)):f("",!0)])],2)):f("",!0)],2)):f("",!0)]),_:3}),o(p(_),j({as:e.as},a.$attrs,{"data-orientation":e.orientation,class:s.value.root({class:[l.ui?.root,l.class]})}),{default:v(()=>[i.header&&e.orientation==="vertical"?(n(),d("div",{key:0,class:u(s.value.header({class:l.ui?.header}))},[g(a.$slots,"header")],2)):f("",!0),t("div",{class:u(s.value.body({class:l.ui?.body}))},[g(a.$slots,"body",{},()=>[t("div",{class:u(s.value.titleWrapper({class:l.ui?.titleWrapper}))},[e.title||i.title?(n(),d("div",{key:0,class:u(s.value.title({class:l.ui?.title}))},[g(a.$slots,"title",{},()=>[P(b(e.title),1)])],2)):f("",!0),g(a.$slots,"badge",{},()=>[e.badge?(n(),$(Z,j({key:0,color:"primary",variant:"subtle"},typeof e.badge=="string"?{label:e.badge}:e.badge,{class:s.value.badge({class:l.ui?.badge})}),null,16,["class"])):f("",!0)])],2),e.description||i.description?(n(),d("div",{key:0,class:u(s.value.description({class:l.ui?.description}))},[g(a.$slots,"description",{},()=>[P(b(e.description),1)])],2)):f("",!0),e.orientation==="vertical"?(n(),$(p(w),{key:1})):f("",!0),y.value?.length||i.features?(n(),d("ul",{key:2,class:u(s.value.features({class:l.ui?.features}))},[g(a.$slots,"features",{},()=>[(n(!0),d(R,null,L(y.value,(h,m)=>(n(),d("li",{key:m,class:u(s.value.feature({class:l.ui?.feature}))},[o(Y,{name:h.icon||p(k).ui.icons.success,class:u(s.value.featureIcon({class:l.ui?.featureIcon}))},null,8,["name","class"]),t("span",{class:u(s.value.featureTitle({class:l.ui?.featureTitle}))},b(h.title),3)],2))),128))])],2)):f("",!0)])],2),e.terms||i.terms||e.button||i.button||e.orientation==="horizontal"||e.tagline||i.tagline||i.footer?(n(),d("div",{key:1,class:u(s.value.footer({class:l.ui?.footer}))},[g(a.$slots,"footer",{},()=>[e.tagline||i.tagline?(n(),d("div",{key:0,class:u(s.value.tagline({class:l.ui?.tagline}))},[g(a.$slots,"tagline",{},()=>[P(b(e.tagline),1)])],2)):f("",!0),e.orientation==="horizontal"?(n(),$(p(w),{key:1})):f("",!0),g(a.$slots,"button",{},()=>[e.button?(n(),$(U,j({key:0},{block:!0,size:"lg",...e.button},{class:s.value.button({class:l.ui?.button}),onClick:e.button?.onClick}),null,16,["class","onClick"])):f("",!0)]),e.terms||i.terms?(n(),d("div",{key:2,class:u(s.value.terms({class:l.ui?.terms}))},[g(a.$slots,"terms",{},()=>[P(b(e.terms),1)])],2)):f("",!0)])],2)):f("",!0)]),_:3},16,["as","data-orientation","class"])],64))}});function ie(e){const{$apiFetch:l}=G();return l("/api/wallets/buy-readits",{method:"POST",credentials:"include",body:{selectedPack:e}})}function ne(e){return e.replace(/\b\w/g,l=>l.toUpperCase())}const oe={class:"flex flex-col gap-2 mx-3"},re={class:"flex"},ce={class:"text-lg"},ue={class:"flex"},de={class:"flex items-center gap-1"},fe={class:"text-lg font-semibold text-accent"},me={class:"flex"},ge={class:"text-lg font-semibold"},be={class:"flex justify-end gap-2 mt-3"},pe=W({__name:"ConfirmReaditsPurchaseModal",props:{isOpenConfirmPurchaseModal:{type:Boolean},selectedPack:{}},emits:["update:openConfirmPurchaseModal"],setup(e,{emit:l}){const i=e,k=l,x=z({get:()=>i.isOpenConfirmPurchaseModal,set:m=>{k("update:openConfirmPurchaseModal",m)}}),w={starter:[100,200],popular:[150,600],pro:[350,1e3],ultra:[750,5e3]},s=S(!1),y=J(),a=O(),{paymentSuccess:c}=A(a.userId);I(()=>c.value,m=>{m&&y.add({title:"Payment Successful",description:`You received ${m} readits!`,color:"success"}),c.value=null});const h=async()=>{s.value=!0;const{invoiceUrl:m}=await ie(i.selectedPack);window.open(m,"_blank"),y.add({title:"Payment in progress",description:"A new tab has opened for payment. Return here after completing it.",color:"neutral"}),x.value=!1,s.value=!1};return(m,r)=>{const C=V,B=ee,q=U,N=te;return n(),$(N,{open:p(x),"onUpdate:open":r[2]||(r[2]=M=>Q(x)?x.value=M:null)},{header:v(()=>[...r[3]||(r[3]=[t("h2",{class:"text-3xl font-semibold"},"Confirm purchase?",-1)])]),body:v(()=>[t("div",oe,[r[9]||(r[9]=t("h2",{class:"font-bold text-2xl mb-1"},"Purchase Details",-1)),t("div",re,[r[4]||(r[4]=t("p",{class:"flex-1 text-lg"},"Pack Type:",-1)),t("p",ce,b(p(ne)(i.selectedPack))+" Pack",1)]),t("div",ue,[r[5]||(r[5]=t("p",{class:"flex-1 text-lg"},"You will gain:",-1)),t("div",de,[o(C,{name:"fluent:book-coins-20-regular",class:"w-5 h-5 text-accent"}),t("span",fe,b(w[i.selectedPack]?.[1]),1)])]),o(B,{color:"primary",size:"sm",class:"w-full"}),t("div",me,[r[6]||(r[6]=t("p",{class:"flex-1 text-lg font-semibold"},"Total Price:",-1)),t("p",ge,"₱"+b(w[i.selectedPack]?.[0]),1)]),t("div",be,[o(q,{color:"error",class:"cursor-pointer",onClick:r[0]||(r[0]=M=>(x.value=!1,s.value=!1))},{default:v(()=>[...r[7]||(r[7]=[P("Cancel",-1)])]),_:1}),o(q,{class:"cursor-pointer",disabled:p(s),loading:p(s),onClick:r[1]||(r[1]=M=>h())},{default:v(()=>[...r[8]||(r[8]=[P("Confirm",-1)])]),_:1},8,["disabled","loading"])])])]),_:1},8,["open"])}}}),xe=Object.assign(pe,{__name:"ConfirmReaditsPurchaseModal"}),ve={class:"h-auto w-full overflow-hidden bg-background text-base mb-15"},ye={key:0,class:"w-full flex flex-col items-center gap-10 mt-10"},he={class:"flex-1 flex flex-col items-center justify-center gap-5"},ke={class:"flex gap-5"},we={class:"flex gap-5"},Pe={key:1,class:"w-full flex flex-col items-center gap-10 mt-10"},Ce={class:"flex justify-center max-w-[1364px] w-full"},$e={class:"flex items-center"},Se={class:"flex-1 flex flex-col gap-2"},qe={class:"font-bold text-4xl"},Be={class:"flex-1 flex flex-col items-center justify-center gap-5"},Me={class:"flex gap-5"},je={class:"flex items-center w-full py-2 gap-1"},ze={class:"flex items-center w-full py-2 gap-1"},Te={class:"flex gap-5"},Re={class:"flex items-center w-full py-2 gap-1"},Ue={class:"flex items-center w-full py-2 gap-1"},Ge=W({__name:"buy-readits",setup(e){const l=O(),{paymentSuccess:i}=A(l.userId),k=S(0),x=S(!0),w=S(!1),s=S(""),y=a=>{s.value=a,w.value=!0};return I(()=>i.value,a=>{a!=null&&(k.value=k.value+a)}),H(async()=>{x.value=!0;const a=await le();k.value=a.currentWalletBalance??0,x.value=!1}),(a,c)=>{const h=D,m=V,r=K,C=ae,B=xe;return n(),d("div",ve,[p(x)?(n(),d("div",ye,[o(h,{class:"h-39 max-w-[1364px] w-full"}),t("div",he,[t("div",ke,[o(h,{class:"w-2xl h-60"}),o(h,{class:"w-2xl h-60"})]),t("div",we,[o(h,{class:"w-2xl h-60"}),o(h,{class:"w-2xl h-60"})])])])):(n(),d("div",Pe,[t("div",Ce,[o(r,{class:"w-full bg-surface"},{default:v(()=>[t("div",$e,[t("div",Se,[c[1]||(c[1]=t("h2",{class:"font-semibold text-lg"},"Current Balance",-1)),t("h1",qe,b(p(k))+" Readits",1),c[2]||(c[2]=t("p",null,"Each book requires Readits to rent/buy.",-1))]),o(m,{name:"fluent:book-coins-20-regular",class:"w-25 h-25 text-accent"})])]),_:1})]),t("div",Be,[t("div",Me,[o(C,{title:"Starter Pack",description:"Perfect for casual readers who want a small boost of credits.",price:"₱150",discount:"₱100","billing-cycle":"/one-time",button:{label:"Buy now",onClick:()=>y("starter")},orientation:"horizontal",variant:"outline",class:"max-w-2xl max-h-60 bg-surface",ui:{features:"!flex !mt-6 w-full",button:"cursor-pointer bg-inverted hover:bg-inverted hover:opacity-80 active:bg-inverted active:opacity-80"}},{features:v(()=>[t("div",je,[o(m,{name:"fluent:book-coins-20-regular",class:"w-10 h-10 text-accent relative -left-2"}),c[3]||(c[3]=t("span",{class:"text-2xl font-semibold text-accent relative -left-2"},"200 readits",-1))])]),_:1},8,["button"]),o(C,{title:"Popular Pack",description:"Great for regular readers who enjoy renting books more often.",badge:{label:"Most popular",variant:"solid"},price:"₱200",discount:"₱150","billing-cycle":"/one-time",button:{label:"Buy now",onClick:()=>y("popular")},orientation:"horizontal",variant:"outline",class:"max-w-2xl max-h-60 bg-surface border-3 border-blue-500",ui:{features:"!flex !mt-6 w-full",button:"cursor-pointer bg-blue-500 hover:bg-blue-400 active:bg-blue-400",badge:"bg-blue-500"}},{features:v(()=>[t("div",ze,[o(m,{name:"fluent:book-coins-20-regular",class:"w-10 h-10 text-accent relative -left-2"}),c[4]||(c[4]=t("span",{class:"text-2xl font-semibold text-accent relative -left-2"},"600 readits",-1))])]),_:1},8,["button"])]),t("div",Te,[o(C,{title:"Pro Pack",description:"Ideal for committed book lovers who read week after week.",price:"₱400",discount:"₱350","billing-cycle":"/one-time",button:{label:"Buy now",onClick:()=>y("pro")},orientation:"horizontal",variant:"outline",class:"max-w-2xl max-h-60 bg-surface",ui:{features:"!flex !mt-6 w-full",button:"cursor-pointer bg-inverted hover:bg-inverted hover:opacity-80 active:bg-inverted active:opacity-80"}},{features:v(()=>[t("div",Re,[o(m,{name:"fluent:book-coins-20-regular",class:"w-10 h-10 text-accent relative -left-2"}),c[5]||(c[5]=t("span",{class:"text-2xl font-semibold text-accent relative -left-2"},"1000 readits",-1))])]),_:1},8,["button"]),o(C,{title:"Ultra Pack",description:"Designed for power readers who never want to run out of Readits.",badge:{label:"Best value",variant:"solid"},price:"₱850",discount:"₱750","billing-cycle":"/one-time",button:{label:"Buy now",onClick:()=>y("ultra")},orientation:"horizontal",variant:"outline",class:"max-w-2xl max-h-60 bg-surface border-3 border-orange-500",ui:{features:"!flex !mt-6 w-full",button:"cursor-pointer bg-orange-500 hover:bg-orange-400 active:bg-orange-400",badge:"bg-orange-500"}},{features:v(()=>[t("div",Ue,[o(m,{name:"fluent:book-coins-20-regular",class:"w-10 h-10 text-accent relative -left-2"}),c[6]||(c[6]=t("span",{class:"text-2xl font-semibold text-accent relative -left-2"},"5000 readits",-1))])]),_:1},8,["button"])])]),o(B,{"is-open-confirm-purchase-modal":p(w),"selected-pack":p(s),"onUpdate:openConfirmPurchaseModal":c[0]||(c[0]=q=>w.value=q)},null,8,["is-open-confirm-purchase-modal","selected-pack"])]))])}}});export{Ge as default};
