import{c as bt,_ as nt}from"./C257s8ZL.js";import{aq as Je,ar as ht,x as z,p as k,k as t,as as yt,at as _t,au as rt,av as xt,e as P,aw as Se,A as ue,f,o as d,m as A,ax as Ct,c as N,E as O,X as ee,Y as me,j as Y,w as c,b as q,P as U,r as _,aa as be,ab as Ge,ay as Qe,ac as Ie,az as Ke,J as re,aA as we,Q as $e,aB as qt,I as ie,L as je,aC as kt,aD as It,aE as wt,a1 as ke,a5 as St,ah as Bt,R as Lt,ae as Be,ai as Xe,aj as Pt,d as J,t as Q,af as Ue,ak as At,aF as tt,l as ut,aG as Et,a4 as dt,n as ct,a6 as pt,am as zt,an as Fe,ao as We,aH as Ft,aI as Vt,aJ as Ot,q as Me,aK as $t,aL as Re,aM as Tt,D as F,a as T,Z as Ve,aN as at,aO as Dt,aP as lt,aQ as Rt,W as Ze,$ as Nt,_ as Kt,U as Mt,g as Gt,h as qe,aR as Ye,a3 as jt}from"#entry";import{b as Le,u as Ut,a as Ht,F as Wt}from"./CvhSEr8e.js";import{a as Yt,P as Jt,c as Qt,b as Xt,_ as Zt,e as ea,d as ta}from"./CJ5A0XCs.js";function aa(i,l,a){const e=i.findIndex(r=>Je(r,l)),s=i.findIndex(r=>Je(r,a));if(e===-1||s===-1)return[];const[o,n]=[e,s].sort((r,u)=>r-u);return i.slice(o,n+1)}function ft(i){const l=ht({dir:z("ltr")});return k(()=>i?.value||l.dir?.value||"ltr")}function vt(i){const l=k(()=>t(i)),a=k(()=>new Intl.Collator("en",{usage:"search",...l.value}));return{startsWith:(n,r)=>r.length===0?!0:(n=n.normalize("NFC"),r=r.normalize("NFC"),a.value.compare(n.slice(0,r.length),r)===0),endsWith:(n,r)=>r.length===0?!0:(n=n.normalize("NFC"),r=r.normalize("NFC"),a.value.compare(n.slice(-r.length),r)===0),contains:(n,r)=>{if(r.length===0)return!0;n=n.normalize("NFC"),r=r.normalize("NFC");let u=0;const m=r.length;for(;u+m<=n.length;u++){const p=n.slice(u,u+m);if(a.value.compare(r,p)===0)return!0}return!1}}}function la(i){return k(()=>yt(i)?!!_t(i)?.closest("form"):!0)}function oa(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}function ia(i){const l=rt("",1e3);return{search:l,handleTypeaheadSearch:(s,o)=>{l.value=l.value+s;{const n=xt(),r=o.map(h=>({...h,textValue:h.value?.textValue??h.ref.textContent?.trim()??""})),u=r.find(h=>h.ref===n),m=r.map(h=>h.textValue),p=na(m,l.value,u?.textValue),b=r.find(h=>h.textValue===p);return b&&b.ref.focus(),b?.ref}},resetTypeahead:()=>{l.value=""}}}function sa(i,l){return i.map((a,e)=>i[(l+e)%i.length])}function na(i,l,a){const s=l.length>1&&Array.from(l).every(m=>m===l[0])?l[0]:l,o=a?i.indexOf(a):-1;let n=sa(i,Math.max(o,0));s.length===1&&(n=n.filter(m=>m!==a));const u=n.find(m=>m.toLowerCase().startsWith(s.toLowerCase()));return u!==a?u:void 0}const ra={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ua(i,l){return l!=="rtl"?i:i==="ArrowLeft"?"ArrowRight":i==="ArrowRight"?"ArrowLeft":i}function da(i,l,a){const e=ua(i.key,a);if(!(l==="vertical"&&["ArrowLeft","ArrowRight"].includes(e))&&!(l==="horizontal"&&["ArrowUp","ArrowDown"].includes(e)))return ra[e]}var ca=P({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(i){const l=i,{primitiveElement:a,currentElement:e}=Se(),s=k(()=>l.checked??l.value);return ue(s,(o,n)=>{if(!e.value)return;const r=e.value,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(p&&o!==n){const b=new Event("input",{bubbles:!0}),h=new Event("change",{bubbles:!0});p.call(r,o),r.dispatchEvent(b),r.dispatchEvent(h)}}),(o,n)=>(d(),f(Ct,A({ref_key:"primitiveElement",ref:a},{...l,...o.$attrs},{as:"input"}),null,16))}}),ot=ca,pa=P({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(i){const l=i,a=k(()=>typeof l.value=="object"&&Array.isArray(l.value)&&l.value.length===0&&l.required),e=k(()=>typeof l.value=="string"||typeof l.value=="number"||typeof l.value=="boolean"||l.value===null||l.value===void 0?[{name:l.name,value:l.value}]:typeof l.value=="object"&&Array.isArray(l.value)?l.value.flatMap((s,o)=>typeof s=="object"?Object.entries(s).map(([n,r])=>({name:`${l.name}[${o}][${n}]`,value:r})):{name:`${l.name}[${o}]`,value:s}):l.value!==null&&typeof l.value=="object"&&!Array.isArray(l.value)?Object.entries(l.value).map(([s,o])=>({name:`${l.name}[${s}]`,value:o})):[]);return(s,o)=>(d(),N(ee,null,[O(" We render single input if it's required "),a.value?(d(),f(ot,A({key:s.name},{...l,...s.$attrs},{name:s.name,value:s.value}),null,16,["name","value"])):(d(!0),N(ee,{key:1},me(e.value,n=>(d(),f(ot,A({key:n.name},{ref_for:!0},{...l,...s.$attrs},{name:n.name,value:n.value}),null,16,["name","value"]))),128))],2112))}}),fa=pa,va=P({__name:"ComboboxAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const{forwardRef:l}=Y();return(a,e)=>(d(),f(t(Yt),{"as-child":"",reference:a.reference},{default:c(()=>[q(t(U),A({ref:t(l),"as-child":a.asChild,as:a.as},a.$attrs),{default:c(()=>[_(a.$slots,"default")]),_:3},16,["as-child","as"])]),_:3},8,["reference"]))}}),ga=va;function ma(i,l,a){return i===void 0?!1:Array.isArray(i)?i.some(e=>Oe(e,l,a)):Oe(i,l,a)}function Oe(i,l,a){return i===void 0||l===void 0?!1:typeof i=="string"?i===l:typeof a=="function"?a(i,l):typeof a=="string"?i?.[a]===l?.[a]:Je(i,l)}const[He,ba]=be("ListboxRoot");var ha=P({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(i,{expose:l,emit:a}){const e=i,s=a,{multiple:o,highlightOnHover:n,orientation:r,disabled:u,selectionBehavior:m,dir:p}=Ge(e),{getItems:b}=Qe({isProvider:!0}),{handleTypeaheadSearch:h}=ia(),{primitiveElement:C,currentElement:g}=Se(),L=oa(),S=ft(p),D=la(g),$=z(),H=z(!1),te=z(!0),E=Ie(e,"modelValue",s,{defaultValue:e.defaultValue??(o.value?[]:void 0),passive:e.modelValue===void 0,deep:!0});function he(v){if(H.value=!0,e.multiple){const w=Array.isArray(E.value)?[...E.value]:[],B=w.findIndex(M=>Oe(M,v,e.by));e.selectionBehavior==="toggle"?(B===-1?w.push(v):w.splice(B,1),E.value=w):(E.value=[v],$.value=v)}else e.selectionBehavior==="toggle"&&Oe(E.value,v,e.by)?E.value=void 0:E.value=v;setTimeout(()=>{H.value=!1},1)}const G=z(null),se=z(null),X=z(!1),ge=z(!1),ne=Ke(),le=Ke(),oe=Ke();function R(){return b().map(v=>v.ref).filter(v=>v.dataset.disabled!=="")}function j(v,w=!0){if(!v)return;G.value=v,te.value&&G.value.focus(),w&&G.value.scrollIntoView({block:"nearest"});const B=b().find(M=>M.ref===v);s("highlight",B)}function ae(v){if(X.value)oe.trigger(v);else{const w=b().find(B=>Oe(B.value,v,e.by));w&&(G.value=w.ref,j(w.ref))}}function ye(v){G.value&&G.value.isConnected&&(v.preventDefault(),v.stopPropagation(),ge.value||G.value.click())}function de(v){if(te.value){if(H.value=!0,X.value)le.trigger(v);else{const w=v.altKey||v.ctrlKey||v.metaKey;if(w&&v.key==="a"&&o.value){const B=b(),M=B.map(pe=>pe.value);E.value=[...M],v.preventDefault(),j(B[B.length-1].ref)}else if(!w){const B=h(v.key,b());B&&j(B)}}setTimeout(()=>{H.value=!1},1)}}function I(){ge.value=!0}function ce(){re(()=>{ge.value=!1})}function _e(){re(()=>{const v=new KeyboardEvent("keydown",{key:"PageUp"});Ae(v)})}function xe(v){const w=G.value;w?.isConnected&&(se.value=w),G.value=null,s("leave",v)}function Te(v){const w=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if(v.currentTarget?.dispatchEvent(w),s("entryFocus",w),!w.defaultPrevented)if(se.value)j(se.value);else{const B=R()?.[0];j(B)}}function Ae(v){const w=da(v,r.value,S.value);if(!w)return;let B=R();if(G.value){if(w==="last")B.reverse();else if(w==="prev"||w==="next"){w==="prev"&&B.reverse();const M=B.indexOf(G.value);B=B.slice(M+1)}De(v,B[0])}if(B.length){const M=!G.value&&w==="prev"?B.length-1:0;j(B[M])}if(X.value)return le.trigger(v)}function De(v,w){if(!(X.value||e.selectionBehavior!=="replace"||!o.value||!Array.isArray(E.value)||(v.altKey||v.ctrlKey||v.metaKey)&&!v.shiftKey)&&v.shiftKey){const M=b().filter(x=>x.ref.dataset.disabled!=="");let pe=M.find(x=>x.ref===w)?.value;if(v.key===L.END?pe=M[M.length-1].value:v.key===L.HOME&&(pe=M[0].value),!pe||!$.value)return;const W=aa(M.map(x=>x.value),$.value,pe);E.value=W}}async function Ee(v){if(await re(),X.value)ne.trigger(v);else{const w=R(),B=w.find(M=>M.dataset.state==="checked");B?j(B):w.length&&j(w[0])}}return ue(E,()=>{H.value||re(()=>{Ee()})},{immediate:!0,deep:!0}),l({highlightedElement:G,highlightItem:ae,highlightFirstItem:_e,highlightSelected:Ee,getItems:b}),ba({modelValue:E,onValueChange:he,multiple:o,orientation:r,dir:S,disabled:u,highlightOnHover:n,highlightedElement:G,isVirtual:X,virtualFocusHook:ne,virtualKeydownHook:le,virtualHighlightHook:oe,by:e.by,firstValue:$,selectionBehavior:m,focusable:te,onLeave:xe,onEnter:Te,changeHighlight:j,onKeydownEnter:ye,onKeydownNavigation:Ae,onKeydownTypeAhead:de,onCompositionStart:I,onCompositionEnd:ce,highlightFirstItem:_e}),(v,w)=>(d(),f(t(U),{ref_key:"primitiveElement",ref:C,as:v.as,"as-child":v.asChild,dir:t(S),"data-disabled":t(u)?"":void 0,onPointerleave:xe,onFocusout:w[0]||(w[0]=async B=>{const M=B.relatedTarget||B.target;await re(),G.value&&t(g)&&!t(g).contains(M)&&xe(B)})},{default:c(()=>[_(v.$slots,"default",{modelValue:t(E)}),t(D)&&v.name?(d(),f(t(fa),{key:0,name:v.name,value:t(E),disabled:t(u),required:v.required},null,8,["name","value","disabled","required"])):O("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),ya=ha,_a=P({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const{CollectionSlot:l}=Qe(),a=He(),e=rt(!1,10);return(s,o)=>(d(),f(t(l),null,{default:c(()=>[q(t(U),{role:"listbox",as:s.as,"as-child":s.asChild,tabindex:t(a).focusable.value?t(a).highlightedElement.value?"-1":"0":void 0,"aria-orientation":t(a).orientation.value,"aria-multiselectable":!!t(a).multiple.value,"data-orientation":t(a).orientation.value,onMousedown:o[0]||(o[0]=$e(n=>e.value=!0,["left"])),onFocus:o[1]||(o[1]=n=>{t(e)||t(a).onEnter(n)}),onKeydown:[o[2]||(o[2]=we(n=>{t(a).orientation.value==="vertical"&&(n.key==="ArrowLeft"||n.key==="ArrowRight")||t(a).orientation.value==="horizontal"&&(n.key==="ArrowUp"||n.key==="ArrowDown")||(n.preventDefault(),t(a).focusable.value&&t(a).onKeydownNavigation(n))},["down","up","left","right","home","end"])),we(t(a).onKeydownEnter,["enter"]),t(a).onKeydownTypeAhead]},{default:c(()=>[_(s.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),xa=_a,Ca=P({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(i,{emit:l}){const a=i,s=Ie(a,"modelValue",l,{defaultValue:"",passive:a.modelValue===void 0}),o=He(),{primitiveElement:n,currentElement:r}=Se(),u=k(()=>a.disabled||o.disabled.value||!1),m=z();return qt(()=>m.value=o.highlightedElement.value?.id),ie(()=>{o.focusable.value=!1,setTimeout(()=>{a.autoFocus&&r.value?.focus()},1)}),je(()=>{o.focusable.value=!0}),(p,b)=>(d(),f(t(U),{ref_key:"primitiveElement",ref:n,as:p.as,"as-child":p.asChild,value:t(s),disabled:u.value?"":void 0,"data-disabled":u.value?"":void 0,"aria-disabled":u.value??void 0,"aria-activedescendant":m.value,type:"text",onKeydown:[we($e(t(o).onKeydownNavigation,["prevent"]),["down","up","home","end"]),we(t(o).onKeydownEnter,["enter"])],onInput:b[0]||(b[0]=h=>{s.value=h.target.value,t(o).highlightFirstItem()}),onCompositionstart:t(o).onCompositionStart,onCompositionend:t(o).onCompositionEnd},{default:c(()=>[_(p.$slots,"default",{modelValue:t(s)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),qa=Ca;const[vo,ka]=be("ListboxGroup");var Ia=P({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const l=i,a=Le(void 0,"reka-listbox-group");return ka({id:a}),(e,s)=>(d(),f(t(U),A({role:"group"},l,{"aria-labelledby":t(a)}),{default:c(()=>[_(e.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),wa=Ia;const Sa="listbox.select",[Ba,La]=be("ListboxItem");var Pa=P({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(i,{emit:l}){const a=i,e=l,s=Le(void 0,"reka-listbox-item"),{CollectionItem:o}=Qe(),{forwardRef:n,currentElement:r}=Y(),u=He(),m=k(()=>r.value===u.highlightedElement.value),p=k(()=>ma(u.modelValue.value,a.value,u.by)),b=k(()=>u.disabled.value||a.disabled);async function h(g){e("select",g),!g?.defaultPrevented&&!b.value&&g&&(u.onValueChange(a.value),u.changeHighlight(r.value))}function C(g){const L={originalEvent:g,value:a.value};It(Sa,h,L)}return La({isSelected:p}),(g,L)=>(d(),f(t(o),{value:g.value},{default:c(()=>[kt([m.value,p.value],()=>q(t(U),A({id:t(s)},g.$attrs,{ref:t(n),role:"option",tabindex:t(u).focusable.value?m.value?"0":"-1":-1,"aria-selected":p.value,as:g.as,"as-child":g.asChild,disabled:b.value?"":void 0,"data-disabled":b.value?"":void 0,"data-highlighted":m.value?"":void 0,"data-state":p.value?"checked":"unchecked",onClick:C,onKeydown:we($e(C,["prevent"]),["space"]),onPointermove:L[0]||(L[0]=S=>{t(u).highlightedElement.value!==t(r)&&(t(u).highlightOnHover.value?t(u).changeHighlight(t(r),!1):t(u).focusable.value||t(u).changeHighlight(t(r),!1))})}),{default:c(()=>[_(g.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),L,1)]),_:3},8,["value"]))}}),Aa=Pa,Ea=P({__name:"ListboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(i){const l=i;Y();const a=Ba();return(e,s)=>t(a).isSelected.value?(d(),f(t(U),A({key:0,"aria-hidden":"true"},l),{default:c(()=>[_(e.$slots,"default")]),_:3},16)):O("v-if",!0)}}),za=Ea;const[ve,Fa]=be("ComboboxRoot");var Va=P({__name:"ComboboxRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},openOnFocus:{type:Boolean,required:!1,default:!1},openOnClick:{type:Boolean,required:!1,default:!1},ignoreFilter:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","update:open"],setup(i,{expose:l,emit:a}){const e=i,s=a,{primitiveElement:o,currentElement:n}=Se(),{multiple:r,disabled:u,ignoreFilter:m,resetSearchTermOnSelect:p,openOnFocus:b,openOnClick:h,dir:C}=Ge(e),g=ft(C),L=Ie(e,"modelValue",s,{defaultValue:e.defaultValue??(r.value?[]:void 0),passive:e.modelValue===void 0,deep:!0}),S=Ie(e,"open",s,{defaultValue:e.defaultOpen,passive:e.open===void 0});async function D(R){S.value=R,ne.value="",R?(await re(),o.value?.highlightSelected(),H.value=!0):H.value=!1,E.value?.focus(),setTimeout(()=>{!R&&e.resetSearchTermOnBlur&&$.trigger()},1)}const $=Ke(),H=z(!1),te=z(!1),E=z(),he=z(),G=k(()=>o.value?.highlightedElement??void 0),se=z(new Map),X=z(new Map),{contains:ge}=vt({sensitivity:"base"}),ne=z(""),le=k(R=>{if(!ne.value||e.ignoreFilter||te.value)return{count:se.value.size,items:R?.items??new Map,groups:R?.groups??new Set(X.value.keys())};let j=0;const ae=new Map,ye=new Set;for(const[de,I]of se.value){const ce=ge(I,ne.value);ae.set(de,ce?1:0),ce&&j++}for(const[de,I]of X.value)for(const ce of I)if(ae.get(ce)>0){ye.add(de);break}return{count:j,items:ae,groups:ye}}),oe=wt();return ie(()=>{oe?.exposed&&(oe.exposed.highlightItem=o.value?.highlightItem,oe.exposed.highlightFirstItem=o.value?.highlightFirstItem,oe.exposed.highlightSelected=o.value?.highlightSelected)}),l({filtered:le,highlightedElement:G,highlightItem:o.value?.highlightItem,highlightFirstItem:o.value?.highlightFirstItem,highlightSelected:o.value?.highlightSelected}),Fa({modelValue:L,multiple:r,disabled:u,open:S,onOpenChange:D,contentId:"",isUserInputted:H,isVirtual:te,inputElement:E,highlightedElement:G,onInputElementChange:R=>E.value=R,triggerElement:he,onTriggerElementChange:R=>he.value=R,parentElement:n,resetSearchTermOnSelect:p,onResetSearchTerm:$.on,allItems:se,allGroups:X,filterSearch:ne,filterState:le,ignoreFilter:m,openOnFocus:b,openOnClick:h}),(R,j)=>(d(),f(t(Jt),null,{default:c(()=>[q(t(ya),A({ref_key:"primitiveElement",ref:o},R.$attrs,{modelValue:t(L),"onUpdate:modelValue":j[0]||(j[0]=ae=>ke(L)?L.value=ae:null),style:{pointerEvents:t(S)?"auto":void 0},as:R.as,"as-child":R.asChild,dir:t(g),multiple:t(r),name:R.name,required:R.required,disabled:t(u),"highlight-on-hover":!0,by:e.by,onHighlight:j[1]||(j[1]=ae=>s("highlight",ae))}),{default:c(()=>[_(R.$slots,"default",{open:t(S),modelValue:t(L)})]),_:3},16,["modelValue","style","as","as-child","dir","multiple","name","required","disabled","by"])]),_:3}))}}),Oa=Va;const[$a,Ta]=be("ComboboxContent");var Da=P({__name:"ComboboxContentImpl",props:{position:{type:String,required:!1,default:"inline"},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(i,{emit:l}){const a=i,e=l,{position:s}=Ge(a),o=ve(),{forwardRef:n,currentElement:r}=Y();Ut(a.bodyLock),Ht(o.parentElement);const u=k(()=>a.position==="popper"?a:{}),m=St(u.value),p={boxSizing:"border-box","--reka-combobox-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-combobox-content-available-width":"var(--reka-popper-available-width)","--reka-combobox-content-available-height":"var(--reka-popper-available-height)","--reka-combobox-trigger-width":"var(--reka-popper-anchor-width)","--reka-combobox-trigger-height":"var(--reka-popper-anchor-height)"};Ta({position:s});const b=z(!1);return ie(()=>{o.inputElement.value&&(b.value=r.value.contains(o.inputElement.value),b.value&&o.inputElement.value.focus())}),je(()=>{b.value&&o.triggerElement.value?.focus()}),(h,C)=>(d(),f(t(xa),{"as-child":""},{default:c(()=>[q(t(Bt),{"as-child":"","disable-outside-pointer-events":h.disableOutsidePointerEvents,onDismiss:C[0]||(C[0]=g=>t(o).onOpenChange(!1)),onFocusOutside:C[1]||(C[1]=g=>{t(o).parentElement.value?.contains(g.target)&&g.preventDefault(),e("focusOutside",g)}),onInteractOutside:C[2]||(C[2]=g=>e("interactOutside",g)),onEscapeKeyDown:C[3]||(C[3]=g=>e("escapeKeyDown",g)),onPointerDownOutside:C[4]||(C[4]=g=>{t(o).parentElement.value?.contains(g.target)&&g.preventDefault(),e("pointerDownOutside",g)})},{default:c(()=>[(d(),f(Lt(t(s)==="popper"?t(Qt):t(U)),A({...h.$attrs,...t(m)},{id:t(o).contentId,ref:t(n),"data-state":t(o).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",...t(s)==="popper"?p:{}}}),{default:c(()=>[_(h.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])]),_:3}))}}),Ra=Da,Na=P({__name:"ComboboxArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(i){const l=i,a=ve(),e=$a();return Y(),(s,o)=>t(a).open.value&&t(e).position.value==="popper"?(d(),f(t(Xt),Be(A({key:0},l)),{default:c(()=>[_(s.$slots,"default")]),_:3},16)):O("v-if",!0)}}),Ka=Na,Ma=P({__name:"ComboboxContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(i,{emit:l}){const s=Xe(i,l),{forwardRef:o}=Y(),n=ve();return n.contentId||=Le(void 0,"reka-combobox-content"),(r,u)=>(d(),f(t(Pt),{present:r.forceMount||t(n).open.value},{default:c(()=>[q(Ra,A({...t(s),...r.$attrs},{ref:t(o)}),{default:c(()=>[_(r.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),Ga=Ma,ja=P({__name:"ComboboxEmpty",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const l=i,a=ve(),e=k(()=>a.ignoreFilter.value?a.allItems.value.size===0:a.filterState.value.count===0);return(s,o)=>e.value?(d(),f(t(U),Be(A({key:0},l)),{default:c(()=>[_(s.$slots,"default",{},()=>[o[0]||(o[0]=J("No options"))])]),_:3},16)):O("v-if",!0)}}),Ua=ja;const[gt,Ha]=be("ComboboxGroup");var Wa=P({__name:"ComboboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const l=i,a=Le(void 0,"reka-combobox-group"),e=ve(),s=k(()=>e.ignoreFilter.value?!0:e.filterSearch.value?e.filterState.value.groups.has(a):!0),o=Ha({id:a,labelId:""});return ie(()=>{e.allGroups.value.has(a)||e.allGroups.value.set(a,new Set)}),je(()=>{e.allGroups.value.delete(a)}),(n,r)=>(d(),f(t(wa),A({id:t(a),"aria-labelledby":t(o).labelId},l,{hidden:s.value?void 0:!0}),{default:c(()=>[_(n.$slots,"default")]),_:3},16,["id","aria-labelledby","hidden"]))}}),it=Wa,Ya=P({__name:"ComboboxInput",props:{displayValue:{type:Function,required:!1},modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(i,{emit:l}){const a=i,e=l,s=ve(),o=He(),{primitiveElement:n,currentElement:r}=Se(),u=Ie(a,"modelValue",e,{passive:a.modelValue===void 0});ie(()=>{r.value&&s.onInputElementChange(r.value)});function m(g){s.open.value||s.onOpenChange(!0)}function p(g){const L=g.target;s.open.value?s.filterSearch.value=L.value:(s.onOpenChange(!0),re(()=>{L.value&&(s.filterSearch.value=L.value,o.highlightFirstItem())}))}function b(){s.openOnFocus.value&&!s.open.value&&s.onOpenChange(!0)}function h(){s.openOnClick.value&&!s.open.value&&s.onOpenChange(!0)}function C(){const g=s.modelValue.value;a.displayValue?u.value=a.displayValue(g):!s.multiple.value&&g&&!Array.isArray(g)&&typeof g!="object"?u.value=g.toString():u.value="",re(()=>{u.value=u.value})}return s.onResetSearchTerm(()=>{C()}),ue(s.modelValue,async()=>{!s.isUserInputted.value&&s.resetSearchTermOnSelect.value&&C()},{immediate:!0,deep:!0}),ue(s.filterState,()=>{!s.isVirtual.value&&!s.highlightedElement.value&&o.highlightFirstItem()}),(g,L)=>(d(),f(t(qa),{ref_key:"primitiveElement",ref:n,modelValue:t(u),"onUpdate:modelValue":L[0]||(L[0]=S=>ke(u)?u.value=S:null),as:g.as,"as-child":g.asChild,"auto-focus":g.autoFocus,disabled:g.disabled,"aria-expanded":t(s).open.value,"aria-controls":t(s).contentId,"aria-autocomplete":"list",role:"combobox",autocomplete:"off",onClick:h,onInput:p,onKeydown:we($e(m,["prevent"]),["down","up"]),onFocus:b},{default:c(()=>[_(g.$slots,"default")]),_:3},8,["modelValue","as","as-child","auto-focus","disabled","aria-expanded","aria-controls","onKeydown"]))}}),Ja=Ya,Qa=P({__name:"ComboboxItem",props:{textValue:{type:String,required:!1},value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(i,{emit:l}){const a=i,e=l,s=Le(void 0,"reka-combobox-item"),o=ve(),n=gt(null),{primitiveElement:r,currentElement:u}=Se();if(a.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");const m=k(()=>{if(o.isVirtual.value||o.ignoreFilter.value||!o.filterSearch.value)return!0;{const p=o.filterState.value.items.get(s);return p===void 0?!0:p>0}});return ie(()=>{o.allItems.value.set(s,a.textValue||u.value.textContent||u.value.innerText);const p=n?.id;p&&(o.allGroups.value.has(p)?o.allGroups.value.get(p)?.add(s):o.allGroups.value.set(p,new Set([s])))}),je(()=>{o.allItems.value.delete(s)}),(p,b)=>m.value?(d(),f(t(Aa),A({key:0},a,{id:t(s),ref_key:"primitiveElement",ref:r,disabled:t(o).disabled.value||p.disabled,onSelect:b[0]||(b[0]=h=>{e("select",h),!h.defaultPrevented&&!t(o).multiple.value&&!p.disabled&&!t(o).disabled.value&&(h.preventDefault(),t(o).onOpenChange(!1),t(o).modelValue.value=a.value)})}),{default:c(()=>[_(p.$slots,"default",{},()=>[J(Q(p.value),1)])]),_:3},16,["id","disabled"])):O("v-if",!0)}}),st=Qa,Xa=P({__name:"ComboboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(i){const l=i;return(a,e)=>(d(),f(t(za),Be(Ue(l)),{default:c(()=>[_(a.$slots,"default")]),_:3},16))}}),Za=Xa,el=P({__name:"ComboboxLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(i){const l=i;Y();const a=gt({id:"",labelId:""});return a.labelId||=Le(void 0,"reka-combobox-group-label"),(e,s)=>(d(),f(t(U),A(l,{id:t(a).labelId}),{default:c(()=>[_(e.$slots,"default")]),_:3},16,["id"]))}}),tl=el,al=P({__name:"ComboboxPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(i){const l=i;return(a,e)=>(d(),f(t(At),Be(Ue(l)),{default:c(()=>[_(a.$slots,"default")]),_:3},16))}}),ll=al,ol=P({__name:"ComboboxSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const l=i;return Y(),(a,e)=>(d(),f(t(U),A(l,{"aria-hidden":"true"}),{default:c(()=>[_(a.$slots,"default")]),_:3},16))}}),il=ol,sl=P({__name:"ComboboxTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(i){const l=i,{forwardRef:a,currentElement:e}=Y(),s=ve(),o=k(()=>l.disabled||s.disabled.value||!1);return ie(()=>{e.value&&s.onTriggerElementChange(e.value)}),(n,r)=>(d(),f(t(U),A(l,{ref:t(a),type:n.as==="button"?"button":void 0,tabindex:"-1","aria-label":"Show popup","aria-haspopup":"listbox","aria-expanded":t(s).open.value,"aria-controls":t(s).contentId,"data-state":t(s).open.value?"open":"closed",disabled:o.value,"data-disabled":o.value?"":void 0,"aria-disabled":o.value??void 0,onClick:r[0]||(r[0]=u=>t(s).onOpenChange(!t(s).open.value))}),{default:c(()=>[_(n.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","disabled","data-disabled","aria-disabled"]))}}),nl=sl,rl=P({__name:"PaginationEllipsis",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const l=i;return Y(),(a,e)=>(d(),f(t(U),A(l,{"data-type":"ellipsis"}),{default:c(()=>[_(a.$slots,"default",{},()=>[e[0]||(e[0]=J("…"))])]),_:3},16))}}),ul=rl;const[Pe,dl]=be("PaginationRoot");var cl=P({__name:"PaginationRoot",props:{page:{type:Number,required:!1},defaultPage:{type:Number,required:!1,default:1},itemsPerPage:{type:Number,required:!0},total:{type:Number,required:!1,default:0},siblingCount:{type:Number,required:!1,default:2},disabled:{type:Boolean,required:!1},showEdges:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:page"],setup(i,{emit:l}){const a=i,e=l,{siblingCount:s,disabled:o,showEdges:n}=Ge(a);Y();const r=Ie(a,"page",e,{defaultValue:a.defaultPage,passive:a.page===void 0}),u=k(()=>Math.max(1,Math.ceil(a.total/(a.itemsPerPage||1))));return dl({page:r,onPageChange(m){r.value=m},pageCount:u,siblingCount:s,disabled:o,showEdges:n}),(m,p)=>(d(),f(t(U),{as:m.as,"as-child":m.asChild},{default:c(()=>[_(m.$slots,"default",{page:t(r),pageCount:u.value})]),_:3},8,["as","as-child"]))}}),pl=cl,fl=P({__name:"PaginationFirst",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(i){const l=i,a=Pe();Y();const e=k(()=>a.page.value===1||a.disabled.value);return(s,o)=>(d(),f(t(U),A(l,{"aria-label":"First Page",type:s.as==="button"?"button":void 0,disabled:e.value,onClick:o[0]||(o[0]=n=>!e.value&&t(a).onPageChange(1))}),{default:c(()=>[_(s.$slots,"default",{},()=>[o[1]||(o[1]=J("First page"))])]),_:3},16,["type","disabled"]))}}),vl=fl,gl=P({__name:"PaginationLast",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(i){const l=i,a=Pe();Y();const e=k(()=>a.page.value===a.pageCount.value||a.disabled.value);return(s,o)=>(d(),f(t(U),A(l,{"aria-label":"Last Page",type:s.as==="button"?"button":void 0,disabled:e.value,onClick:o[0]||(o[0]=n=>!e.value&&t(a).onPageChange(t(a).pageCount.value))}),{default:c(()=>[_(s.$slots,"default",{},()=>[o[1]||(o[1]=J("Last page"))])]),_:3},16,["type","disabled"]))}}),ml=gl;function fe(i,l){const a=l-i+1;return Array.from({length:a},(e,s)=>s+i)}function bl(i){return i.map(l=>typeof l=="number"?{type:"page",value:l}:{type:"ellipsis"})}const Ne="ellipsis";function hl(i,l,a,e){const o=l,n=Math.max(i-a,1),r=Math.min(i+a,o);if(e){const m=Math.min(2*a+5,l)-2,p=n>3&&Math.abs(o-m-1+1)>2&&Math.abs(n-1)>2,b=r<o-2&&Math.abs(o-m)>2&&Math.abs(o-r)>2;if(!p&&b)return[...fe(1,m),Ne,o];if(p&&!b){const C=fe(o-m+1,o);return[1,Ne,...C]}if(p&&b){const C=fe(n,r);return[1,Ne,...C,Ne,o]}return fe(1,o)}else{const u=a*2+1;return l<u?fe(1,o):i<=a+1?fe(1,u):l-i<=a?fe(l-u+1,o):fe(n,r)}}var yl=P({__name:"PaginationList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const l=i;Y();const a=Pe(),e=k(()=>bl(hl(a.page.value,a.pageCount.value,a.siblingCount.value,a.showEdges.value)));return(s,o)=>(d(),f(t(U),Be(Ue(l)),{default:c(()=>[_(s.$slots,"default",{items:e.value})]),_:3},16))}}),_l=yl,xl=P({__name:"PaginationListItem",props:{value:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(i){const l=i;Y();const a=Pe(),e=k(()=>a.page.value===l.value),s=k(()=>a.disabled.value);return(o,n)=>(d(),f(t(U),A(l,{"data-type":"page","aria-label":`Page ${o.value}`,"aria-current":e.value?"page":void 0,"data-selected":e.value?"true":void 0,disabled:s.value,type:o.as==="button"?"button":void 0,onClick:n[0]||(n[0]=r=>!s.value&&t(a).onPageChange(o.value))}),{default:c(()=>[_(o.$slots,"default",{},()=>[J(Q(o.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Cl=xl,ql=P({__name:"PaginationNext",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(i){const l=i;Y();const a=Pe(),e=k(()=>a.page.value===a.pageCount.value||a.disabled.value);return(s,o)=>(d(),f(t(U),A(l,{"aria-label":"Next Page",type:s.as==="button"?"button":void 0,disabled:e.value,onClick:o[0]||(o[0]=n=>!e.value&&t(a).onPageChange(t(a).page.value+1))}),{default:c(()=>[_(s.$slots,"default",{},()=>[o[1]||(o[1]=J("Next page"))])]),_:3},16,["type","disabled"]))}}),kl=ql,Il=P({__name:"PaginationPrev",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(i){const l=i;Y();const a=Pe(),e=k(()=>a.page.value===1||a.disabled.value);return(s,o)=>(d(),f(t(U),A(l,{"aria-label":"Previous Page",type:s.as==="button"?"button":void 0,disabled:e.value,onClick:o[0]||(o[0]=n=>!e.value&&t(a).onPageChange(t(a).page.value-1))}),{default:c(()=>[_(s.$slots,"default",{},()=>[o[1]||(o[1]=J("Prev page"))])]),_:3},16,["type","disabled"]))}}),wl=Il;const Sl={slots:{base:["relative group rounded-md inline-flex items-center focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed",value:"truncate pointer-events-none",placeholder:"truncate text-dimmed",arrow:"fill-default",content:["max-h-60 w-(--reka-select-trigger-width) bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-select-content-transform-origin) pointer-events-auto flex flex-col","origin-(--reka-combobox-content-transform-origin) w-(--reka-combobox-trigger-width)"],viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1",group:"p-1 isolate",empty:"text-center text-muted",label:"font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:["group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75 text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemLabel:"truncate",input:"border-b border-default",focusScope:"flex flex-col min-h-0"},variants:{fieldGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none focus-visible:z-[1]",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none focus-visible:z-[1]"},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",empty:"p-1 text-xs"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",empty:"p-1.5 text-xs"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",empty:"p-1.5 text-sm"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",empty:"p-2 text-sm"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6",empty:"p-2 text-base"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Bl=Object.assign({inheritAttrs:!1},{__name:"USelectMenu",props:tt({id:{type:String,required:!1},placeholder:{type:String,required:!1},searchInput:{type:[Boolean,Object],required:!1,default:!0},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},trailingIcon:{type:[String,Object],required:!1},selectedIcon:{type:[String,Object],required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},valueKey:{type:null,required:!1},labelKey:{type:null,required:!1,default:"label"},items:{type:null,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},createItem:{type:[Boolean,String,Object],required:!1},filterFields:{type:Array,required:!1},ignoreFilter:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},highlightOnHover:{type:Boolean,required:!1},icon:{type:[String,Object],required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:[String,Object],required:!1},trailing:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:tt(["update:open","change","blur","focus","create","highlight","update:modelValue"],["update:searchTerm"]),setup(i,{expose:l,emit:a}){const e=i,s=a,o=ut(),n=Et(i,"searchTerm",{type:String,default:""}),{t:r}=dt(),u=ct(),{contains:m}=vt({sensitivity:"base"}),p=Xe(pt(e,"modelValue","defaultValue","open","defaultOpen","required","multiple","resetSearchTermOnBlur","resetSearchTermOnSelect","highlightOnHover"),s),b=zt(Fe(()=>e.portal)),h=Fe(()=>We(e.content,{side:"bottom",sideOffset:8,collisionPadding:8,position:"popper"})),C=Fe(()=>e.arrow),g=Fe(()=>We(e.searchInput,{placeholder:r("selectMenu.search"),variant:"none"})),{emitFormBlur:L,emitFormFocus:S,emitFormInput:D,emitFormChange:$,size:H,color:te,id:E,name:he,highlight:G,disabled:se,ariaAttrs:X}=Ft(e),{orientation:ge,size:ne}=Vt(e),{isLeading:le,isTrailing:oe,leadingIconName:R,trailingIconName:j}=Ot(Fe(()=>We(e,{trailingIcon:u.ui.icons.chevronDown}))),ae=k(()=>ne.value||H.value),[ye,de]=bt(),I=k(()=>Me({extend:Me(Sl),...u.ui?.selectMenu||{}})({color:te.value,variant:e.variant,size:ae?.value,loading:e.loading,highlight:G.value,leading:le.value||!!e.avatar||!!o.leading,trailing:oe.value||!!o.trailing,fieldGroup:ge.value}));function ce(x){if(e.multiple&&Array.isArray(x)){const K=x.map(V=>lt(xe.value,V,{labelKey:e.labelKey,valueKey:e.valueKey})).filter(V=>V!=null&&V!=="");return K.length>0?K.join(", "):void 0}return lt(xe.value,x,{labelKey:e.labelKey,valueKey:e.valueKey})}const _e=k(()=>e.items?.length?$t(e.items)?e.items:[e.items]:[]),xe=k(()=>_e.value.flatMap(x=>x)),Te=k(()=>{if(e.ignoreFilter||!n.value)return _e.value;const x=Array.isArray(e.filterFields)?e.filterFields:[e.labelKey];return _e.value.map(K=>K.filter(V=>V==null?!1:typeof V!="object"?m(String(V),n.value):V.type&&["label","separator"].includes(V.type)?!0:x.some(Ce=>{const Z=Re(V,Ce);return Z!=null&&m(String(Z),n.value)}))).filter(K=>K.filter(V=>!W(V)||!V.type||!["label","separator"].includes(V.type)).length>0)}),Ae=k(()=>Te.value.flatMap(x=>x)),De=k(()=>{if(!e.createItem||!n.value)return!1;const x=e.valueKey?{[e.valueKey]:n.value}:n.value;return typeof e.createItem=="object"&&e.createItem.when==="always"||e.createItem==="always"?!Ae.value.find(K=>Tt(K,x,e.valueKey)):!Ae.value.length}),Ee=k(()=>typeof e.createItem=="object"?e.createItem.position:"bottom"),v=z(null);function w(){e.autofocus&&v.value?.$el?.focus({focusVisible:!0})}ie(()=>{setTimeout(()=>{w()},e.autofocusDelay)});function B(x){if(Rt(e.modelValue)===x)return;const K=new Event("change",{target:{value:x}});s("change",K),$(),D(),e.resetSearchTermOnSelect&&(n.value="")}function M(x){let K;if(x){const V=new FocusEvent("focus");s("focus",V),S(),clearTimeout(K)}else{const V=new FocusEvent("blur");s("blur",V),L(),e.resetSearchTermOnBlur&&(K=setTimeout(()=>{n.value=""},100))}}function pe(x,K){if(W(K)){if(K.disabled){x.preventDefault();return}K.onSelect?.(x)}}function W(x){return typeof x=="object"&&x!==null}return l({triggerRef:v}),(x,K)=>(d(),N(ee,null,[q(t(ye),null,{default:c(()=>[q(t(it),{class:F(I.value.group({class:e.ui?.group}))},{default:c(()=>[q(t(st),{class:F(I.value.item({class:e.ui?.item})),value:n.value,onSelect:K[0]||(K[0]=$e(V=>s("create",n.value),["prevent"]))},{default:c(()=>[T("span",{class:F(I.value.itemLabel({class:e.ui?.itemLabel}))},[_(x.$slots,"create-item-label",{item:n.value},()=>[J(Q(t(r)("selectMenu.create",{label:n.value})),1)])],2)]),_:3},8,["class","value"])]),_:3},8,["class"])]),_:3}),q(t(Oa),A({id:t(E)},{...t(p),...x.$attrs,...t(X)},{"ignore-filter":"","as-child":"",name:t(he),disabled:t(se),"onUpdate:modelValue":B,"onUpdate:open":M}),{default:c(({modelValue:V,open:Ce})=>[q(t(ga),{"as-child":""},{default:c(()=>[q(t(nl),{ref_key:"triggerRef",ref:v,class:F(I.value.base({class:[e.ui?.base,e.class]})),tabindex:"0"},{default:c(()=>[t(le)||i.avatar||o.leading?(d(),N("span",{key:0,class:F(I.value.leading({class:e.ui?.leading}))},[_(x.$slots,"leading",{modelValue:V,open:Ce,ui:I.value},()=>[t(le)&&t(R)?(d(),f(Ve,{key:0,name:t(R),class:F(I.value.leadingIcon({class:e.ui?.leadingIcon}))},null,8,["name","class"])):i.avatar?(d(),f(at,A({key:1,size:e.ui?.itemLeadingAvatarSize||I.value.itemLeadingAvatarSize()},i.avatar,{class:I.value.itemLeadingAvatar({class:e.ui?.itemLeadingAvatar})}),null,16,["size","class"])):O("",!0)])],2)):O("",!0),_(x.$slots,"default",{modelValue:V,open:Ce},()=>[(d(!0),N(ee,null,me([ce(V)],Z=>(d(),N(ee,{key:Z},[Z!=null?(d(),N("span",{key:0,class:F(I.value.value({class:e.ui?.value}))},Q(Z),3)):(d(),N("span",{key:1,class:F(I.value.placeholder({class:e.ui?.placeholder}))},Q(i.placeholder??" "),3))],64))),128))]),t(oe)||o.trailing?(d(),N("span",{key:1,class:F(I.value.trailing({class:e.ui?.trailing}))},[_(x.$slots,"trailing",{modelValue:V,open:Ce,ui:I.value},()=>[t(j)?(d(),f(Ve,{key:0,name:t(j),class:F(I.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])):O("",!0)])],2)):O("",!0)]),_:2},1032,["class"])]),_:2},1024),q(t(ll),Be(Ue(t(b))),{default:c(()=>[q(t(Ga),A({class:I.value.content({class:e.ui?.content})},h.value),{default:c(()=>[q(t(Wt),{trapped:"",class:F(I.value.focusScope({class:e.ui?.focusScope}))},{default:c(()=>[_(x.$slots,"content-top"),i.searchInput?(d(),f(t(Ja),{key:0,modelValue:n.value,"onUpdate:modelValue":K[1]||(K[1]=Z=>n.value=Z),"display-value":()=>n.value,"as-child":""},{default:c(()=>[q(nt,A({autofocus:"",autocomplete:"off",size:i.size},g.value,{class:I.value.input({class:e.ui?.input})}),null,16,["size","class"])]),_:1},8,["modelValue","display-value"])):O("",!0),q(t(Ua),{class:F(I.value.empty({class:e.ui?.empty}))},{default:c(()=>[_(x.$slots,"empty",{searchTerm:n.value},()=>[J(Q(n.value?t(r)("selectMenu.noMatch",{searchTerm:n.value}):t(r)("selectMenu.noData")),1)])]),_:3},8,["class"]),T("div",{role:"presentation",class:F(I.value.viewport({class:e.ui?.viewport}))},[De.value&&Ee.value==="top"?(d(),f(t(de),{key:0})):O("",!0),(d(!0),N(ee,null,me(Te.value,(Z,et)=>(d(),f(t(it),{key:`group-${et}`,class:F(I.value.group({class:e.ui?.group}))},{default:c(()=>[(d(!0),N(ee,null,me(Z,(y,ze)=>(d(),N(ee,{key:`group-${et}-${ze}`},[W(y)&&y.type==="label"?(d(),f(t(tl),{key:0,class:F(I.value.label({class:[e.ui?.label,y.ui?.label,y.class]}))},{default:c(()=>[J(Q(t(Re)(y,e.labelKey)),1)]),_:2},1032,["class"])):W(y)&&y.type==="separator"?(d(),f(t(il),{key:1,class:F(I.value.separator({class:[e.ui?.separator,y.ui?.separator,y.class]}))},null,8,["class"])):(d(),f(t(st),{key:2,class:F(I.value.item({class:[e.ui?.item,W(y)&&y.ui?.item,W(y)&&y.class]})),disabled:W(y)&&y.disabled,value:e.valueKey&&W(y)?t(Re)(y,e.valueKey):y,onSelect:mt=>pe(mt,y)},{default:c(()=>[_(x.$slots,"item",{item:y,index:ze},()=>[_(x.$slots,"item-leading",{item:y,index:ze},()=>[W(y)&&y.icon?(d(),f(Ve,{key:0,name:y.icon,class:F(I.value.itemLeadingIcon({class:[e.ui?.itemLeadingIcon,y.ui?.itemLeadingIcon]}))},null,8,["name","class"])):W(y)&&y.avatar?(d(),f(at,A({key:1,size:y.ui?.itemLeadingAvatarSize||e.ui?.itemLeadingAvatarSize||I.value.itemLeadingAvatarSize()},{ref_for:!0},y.avatar,{class:I.value.itemLeadingAvatar({class:[e.ui?.itemLeadingAvatar,y.ui?.itemLeadingAvatar]})}),null,16,["size","class"])):W(y)&&y.chip?(d(),f(Dt,A({key:2,size:e.ui?.itemLeadingChipSize||I.value.itemLeadingChipSize(),inset:"",standalone:""},{ref_for:!0},y.chip,{class:I.value.itemLeadingChip({class:[e.ui?.itemLeadingChip,y.ui?.itemLeadingChip]})}),null,16,["size","class"])):O("",!0)]),T("span",{class:F(I.value.itemLabel({class:[e.ui?.itemLabel,W(y)&&y.ui?.itemLabel]}))},[_(x.$slots,"item-label",{item:y,index:ze},()=>[J(Q(W(y)?t(Re)(y,e.labelKey):y),1)])],2),T("span",{class:F(I.value.itemTrailing({class:[e.ui?.itemTrailing,W(y)&&y.ui?.itemTrailing]}))},[_(x.$slots,"item-trailing",{item:y,index:ze}),q(t(Za),{"as-child":""},{default:c(()=>[q(Ve,{name:i.selectedIcon||t(u).ui.icons.check,class:F(I.value.itemTrailingIcon({class:[e.ui?.itemTrailingIcon,W(y)&&y.ui?.itemTrailingIcon]}))},null,8,["name","class"])]),_:2},1024)],2)])]),_:2},1032,["class","disabled","value","onSelect"]))],64))),128))]),_:2},1032,["class"]))),128)),De.value&&Ee.value==="bottom"?(d(),f(t(de),{key:1})):O("",!0)],2),_(x.$slots,"content-bottom")]),_:3},8,["class"]),i.arrow?(d(),f(t(Ka),A({key:0},C.value,{class:I.value.arrow({class:e.ui?.arrow})}),null,16,["class"])):O("",!0)]),_:3},16,["class"])]),_:3},16)]),_:3},16,["id","name","disabled"])],64))}});function Ll(){const{$apiFetch:i}=Ze();return i("/api/books/book-genres",{method:"GET",credentials:"include"})}const Pl={class:"mt-5 p-5 bg-surface-hover rounded-lg w-full"},Al={class:"flex gap-5"},El=P({__name:"BookListHeader",props:{headerState:{}},emits:["update:searchValue","update:selectedBookGenre","update:selectedBookAvailability"],setup(i,{emit:l}){const a=i,e=l,s=z(a.headerState.searchValue),o=z(["All Genres"]),n=z(a.headerState.selectedBookGenre),r=z(["All","For Rent","For Sale","Both"]),u=z(a.headerState.selectedBookAvailability),m=async()=>{const p=await Ll();o.value=["All Genres",...p]};return ue(()=>s.value,p=>e("update:searchValue",p)),ue(()=>n.value,p=>e("update:selectedBookGenre",p)),ue(()=>u.value,p=>e("update:selectedBookAvailability",p)),ie(async()=>{await m()}),(p,b)=>{const h=nt,C=Bl;return d(),N("div",Pl,[T("div",Al,[q(h,{modelValue:t(s),"onUpdate:modelValue":b[0]||(b[0]=g=>ke(s)?s.value=g:null),icon:"i-lucide-search",size:"xl",variant:"outline",placeholder:"Search books...",class:"flex-[4] bg-surface-hover"},null,8,["modelValue"]),q(C,{modelValue:t(n),"onUpdate:modelValue":b[1]||(b[1]=g=>ke(n)?n.value=g:null),items:t(o),size:"xl",class:"flex-1"},null,8,["modelValue","items"]),q(C,{modelValue:t(u),"onUpdate:modelValue":b[2]||(b[2]=g=>ke(u)?u.value=g:null),items:t(r),size:"xl",class:"flex-1"},null,8,["modelValue","items"])])])}}}),go=Object.assign(El,{__name:"BookListHeader"}),zl={class:"flex-[2] w-full rounded-t-xl overflow-hidden"},Fl={class:"flex-1 flex flex-col gap-[10px] px-5 py-4 bg-surface-hover w-full rounded-b-xl"},Vl={class:"flex-1 flex flex-col gap-1 items-center pb-1"},Ol={class:"text-lg text-center font-semibold text-base truncate w-full"},$l={class:"text-left text-xs text-base truncate"},Tl={class:"text-left text-xs text-base truncate w-full"},Dl={class:"flex gap-2 items-start"},Rl={class:"flex flex-col gap-1"},Nl={key:0,class:"flex gap-2 items-center"},Kl={class:"flex-1 flex gap-1 items-center"},Ml={class:"flex items-center"},Gl={class:"text-xs text-primary font-semibold"},jl={key:1,class:"flex gap-2 items-center"},Ul={class:"flex-1 flex gap-1 items-center"},Hl={class:"flex items-center"},Wl={class:"text-xs text-primary font-semibold"},Yl={key:2,class:"flex gap-2 items-center h-5"},Jl={key:1,class:"w-full h-[400px] flex flex-col items-center justify-center bg-transparent"},Ql=P({__name:"BookListCard",props:{cardType:{},bookDetails:{}},setup(i){const l=i,a=Nt(),e=k(()=>{let s="browse";return a.path.includes("/collection")&&(l.bookDetails?.ownerUsername,s="user-collection"),`/books/${l.bookDetails?.bookId}?from=${s}`});return console.log(l.bookDetails),(s,o)=>{const n=Mt,r=Zt,u=ea,m=ta,p=Gt,b=Kt;return l.cardType==="hasContent"?(d(),f(b,{key:0,to:t(e),class:"w-full h-[400px] flex flex-col items-center justify-center transition-transform duration-300 hover:scale-103 cursor-pointer"},{default:c(()=>[T("div",zl,[l.bookDetails?.firstImageUrl?(d(),f(n,{key:0,src:l.bookDetails?.firstImageUrl,class:"w-full h-full object-cover",alt:"Auth image"},null,8,["src"])):(d(),f(n,{key:1,src:"/images/noImageImage.jpg",class:"w-full h-full object-cover",alt:"Auth image"}))]),T("div",Fl,[T("div",Vl,[q(r,{text:l.bookDetails?.title},{default:c(()=>[T("p",Ol,Q(l.bookDetails?.title),1)]),_:1},8,["text"]),q(r,{text:l.bookDetails?.author,class:"flex-[3]"},{default:c(()=>[T("p",$l,"by "+Q(l.bookDetails?.author),1)]),_:1},8,["text"]),q(u,{color:"primary",type:"solid",class:"flex-1"}),q(r,{text:l.bookDetails?.ownerUsername,class:"flex-[3]"},{default:c(()=>[T("p",Tl," Owned by: "+Q(l.bookDetails?.ownerUsername),1)]),_:1},8,["text"])]),T("div",Dl,[["rent","both"].includes(l.bookDetails?.availability?l.bookDetails?.availability:"")?(d(),f(m,{key:0,class:"font-bold rounded-full"},{default:c(()=>[...o[0]||(o[0]=[J("For Rent",-1)])]),_:1})):O("",!0),["purchase","both"].includes(l.bookDetails?.availability?l.bookDetails?.availability:"")?(d(),f(m,{key:1,color:"error",class:"font-bold rounded-full"},{default:c(()=>[...o[1]||(o[1]=[J("For Sale",-1)])]),_:1})):O("",!0)]),T("div",Rl,[["rent","both"].includes(l.bookDetails?.availability?l.bookDetails?.availability:"")?(d(),N("div",Nl,[T("div",Kl,[q(p,{name:"solar:clock-circle-bold",class:"w-5 h-5 text-base"}),o[2]||(o[2]=T("p",{class:"flex-1 text-sm font-semibold text-base"},"Rent",-1))]),T("div",Ml,[q(p,{name:"fluent:book-coins-20-regular",class:"w-5 h-5 text-accent"}),T("p",Gl,Q(l.bookDetails?.dailyRentPrice)+"/day ",1)])])):O("",!0),["purchase","both"].includes(l.bookDetails?.availability?l.bookDetails?.availability:"")?(d(),N("div",jl,[T("div",Ul,[q(p,{name:"solar:cart-large-2-bold-duotone",class:"w-5 h-5 text-base"}),o[3]||(o[3]=T("p",{class:"flex-1 text-sm font-semibold text-base"},"Buy",-1))]),T("div",Hl,[q(p,{name:"fluent:book-coins-20-regular",class:"w-5 h-5 text-accent"}),T("p",Wl,Q(l.bookDetails?.purchasePrice),1)])])):O("",!0),["rent","purchase"].includes(l.bookDetails?.availability?l.bookDetails?.availability:"")?(d(),N("div",Yl)):O("",!0)])])]),_:1},8,["to"])):(d(),N("div",Jl))}}}),Xl=Object.assign(Ql,{__name:"BookListCard"}),Zl={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},eo={__name:"UPagination",props:{as:{type:null,required:!1},firstIcon:{type:[String,Object],required:!1},prevIcon:{type:[String,Object],required:!1},nextIcon:{type:[String,Object],required:!1},lastIcon:{type:[String,Object],required:!1},ellipsisIcon:{type:[String,Object],required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(i,{emit:l}){const a=i,e=l,s=ut(),{dir:o}=dt(),n=ct(),r=Xe(pt(a,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),e),u=k(()=>a.firstIcon||(o.value==="rtl"?n.ui.icons.chevronDoubleRight:n.ui.icons.chevronDoubleLeft)),m=k(()=>a.prevIcon||(o.value==="rtl"?n.ui.icons.chevronRight:n.ui.icons.chevronLeft)),p=k(()=>a.nextIcon||(o.value==="rtl"?n.ui.icons.chevronLeft:n.ui.icons.chevronRight)),b=k(()=>a.lastIcon||(o.value==="rtl"?n.ui.icons.chevronDoubleLeft:n.ui.icons.chevronDoubleRight)),h=k(()=>Me({extend:Me(Zl),...n.ui?.pagination||{}})());return(C,g)=>(d(),f(t(pl),A(t(r),{class:h.value.root({class:[a.ui?.root,a.class]})}),{default:c(({page:L,pageCount:S})=>[q(t(_l),{class:F(h.value.list({class:a.ui?.list}))},{default:c(({items:D})=>[i.showControls||s.first?(d(),f(t(vl),{key:0,"as-child":"",class:F(h.value.first({class:a.ui?.first}))},{default:c(()=>[_(C.$slots,"first",{},()=>[q(qe,{color:i.color,variant:i.variant,size:i.size,icon:u.value,to:i.to?.(1)},null,8,["color","variant","size","icon","to"])])]),_:3},8,["class"])):O("",!0),i.showControls||s.prev?(d(),f(t(wl),{key:1,"as-child":"",class:F(h.value.prev({class:a.ui?.prev}))},{default:c(()=>[_(C.$slots,"prev",{},()=>[q(qe,{color:i.color,variant:i.variant,size:i.size,icon:m.value,to:L>1?i.to?.(L-1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):O("",!0),(d(!0),N(ee,null,me(D,($,H)=>(d(),N(ee,{key:H},[$.type==="page"?(d(),f(t(Cl),{key:0,"as-child":"",value:$.value,class:F(h.value.item({class:a.ui?.item}))},{default:c(()=>[_(C.$slots,"item",A({ref_for:!0},{item:$,index:H,page:L,pageCount:S}),()=>[q(qe,{color:L===$.value?i.activeColor:i.color,variant:L===$.value?i.activeVariant:i.variant,size:i.size,label:String($.value),ui:{label:h.value.label()},to:i.to?.($.value),square:""},null,8,["color","variant","size","label","ui","to"])])]),_:2},1032,["value","class"])):(d(),f(t(ul),{key:1,"as-child":"",class:F(h.value.ellipsis({class:a.ui?.ellipsis}))},{default:c(()=>[_(C.$slots,"ellipsis",{},()=>[q(qe,{as:"div",color:i.color,variant:i.variant,size:i.size,icon:i.ellipsisIcon||t(n).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:3},8,["class"]))],64))),128)),i.showControls||s.next?(d(),f(t(kl),{key:2,"as-child":"",class:F(h.value.next({class:a.ui?.next}))},{default:c(()=>[_(C.$slots,"next",{},()=>[q(qe,{color:i.color,variant:i.variant,size:i.size,icon:p.value,to:L<S?i.to?.(L+1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):O("",!0),i.showControls||s.last?(d(),f(t(ml),{key:3,"as-child":"",class:F(h.value.last({class:a.ui?.last}))},{default:c(()=>[_(C.$slots,"last",{},()=>[q(qe,{color:i.color,variant:i.variant,size:i.size,icon:b.value,to:i.to?.(S)},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):O("",!0)]),_:2},1032,["class"])]),_:3},16,["class"]))}};function to(i){const{$apiFetch:l}=Ze();return l("/api/books/book-list-books",{method:"GET",credentials:"include",query:{...i||{}}})}function ao(i){const{$apiFetch:l}=Ze();return l("/api/books/book-list-books-count",{method:"GET",credentials:"include",query:{...i||{}}})}const lo={class:"h-full w-full flex flex-col items-center"},oo={class:"flex-1 pt-5 w-full relative"},io={key:0,class:"absolute inset-0 flex justify-center items-center bg-background z-5"},so={key:1,class:"absolute inset-0 flex justify-center items-center bg-background z-5"},no=225,ro=P({__name:"BookList",props:{headerState:{},userId:{}},setup(i){const l=i,a=z([]),e=z(null),s=z(1),o=z(1),n=z(0),r=()=>{const S=e.value;if(!S)return 0;const D=S.clientWidth,$=12;return Math.max(1,Math.round((D+$)/(no+$)))*2},u=z(!1),m=async()=>{const S=r();if(S<=0)return;s.value=S;const D={booksPerPage:s.value,pageNumber:o.value,searchValue:l.headerState.searchValue,bookGenre:l.headerState.selectedBookGenre,bookAvailability:l.headerState.selectedBookAvailability,userId:l.userId},$=await to(D);a.value=$},p=async()=>{const S={searchValue:l.headerState.searchValue,bookGenre:l.headerState.selectedBookGenre,bookAvailability:l.headerState.selectedBookAvailability,userId:l.userId},{totalCount:D}=await ao(S);n.value=D},b=()=>{const S=Math.ceil(n.value/s.value)||1;o.value>S&&(o.value=S),n.value===0&&(o.value=1)},h=Ye(async()=>{await m()},700),C=Ye(async()=>{await p(),b()},700);let g=0;const L=Ye(async()=>{await re(),await new Promise(D=>requestAnimationFrame(D)),await new Promise(D=>setTimeout(D,80));const S=r();if(!(S===g||S<=0)){g=S,u.value=!0;try{await m(),b()}finally{u.value=!1}}},400);return ue(()=>o.value,async()=>{u.value=!0;try{await h()}finally{u.value=!1}}),ue([()=>l.headerState.searchValue,()=>l.headerState.selectedBookAvailability,()=>l.headerState.selectedBookGenre],async()=>{u.value=!0;try{await h(),await C()}catch(S){console.error("Error loading books:",S)}finally{u.value=!1}},{deep:!0}),ie(async()=>{u.value=!0,await h(),await C(),u.value=!1,window.addEventListener("resize",L)}),jt(()=>{window.removeEventListener("resize",L)}),(S,D)=>{const $=Ve,H=Xl,te=eo;return d(),N("div",lo,[T("div",oo,[t(u)?(d(),N("div",io,[q($,{name:"i-heroicons-arrow-path",class:"w-8 h-8 animate-spin text-accent"}),D[1]||(D[1]=T("span",{class:"ml-2 text-muted"},"Loading books...",-1))])):O("",!0),!t(u)&&t(a).length==0?(d(),N("div",so,[q($,{name:"heroicons:x-mark-16-solid",class:"w-12 h-12 animate-bounce text-accent"}),D[2]||(D[2]=T("span",{class:"ml-2 text-muted"},"No books here...",-1))])):O("",!0),T("div",{ref_key:"gridContainer",ref:e,class:"grid grid-cols-[repeat(auto-fit,minmax(225px,1fr))] gap-3",style:{"grid-auto-rows":"400px","max-height":"calc(400px * 2 + 12px)","min-height":"calc(400px * 2 + 12px)",overflow:"hidden"}},[(d(!0),N(ee,null,me(t(a),E=>(d(),f(H,{key:E.bookId,"card-type":"hasContent","book-details":E},null,8,["book-details"]))),128)),(d(!0),N(ee,null,me(Math.max(0,t(s)-t(a).length),E=>(d(),f(H,{key:E,"card-type":"empty"}))),128))],512)]),q(te,{page:t(o),"onUpdate:page":D[0]||(D[0]=E=>ke(o)?o.value=E:null),"items-per-page":t(s),"show-edges":"","sibling-count":0,total:t(n),class:"py-5"},null,8,["page","items-per-page","total"])])}}}),mo=Object.assign(ro,{__name:"BookList"});export{go as _,mo as a};
