import{e as C,A as J,C as W,r as P,B as X,y as d,l as t,O as q,f as p,o as n,w as i,x as D,R as w,$ as F,q as U,b as I,L as Y,bJ as x,X as H,s as _,T as R,W as T,a1 as G,a2 as Q,al as Z,a3 as ee,U as te,a4 as ae,a5 as oe,a6 as V,D as K,ab as L,ad as B,b8 as se,V as le,d as $,t as k,c as M,a as re,h as ne}from"#entry";import{b as S,F as ue,a as ie,u as de}from"./DtqH_ZTs.js";const[O,pe]=J("DialogRoot");var fe=C({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(o,{emit:l}){const e=o,a=W(e,"open",l,{defaultValue:e.defaultOpen,passive:e.open===void 0}),v=P(),g=P(),{modal:f}=X(e);return pe({open:a,modal:f,openModal:()=>{a.value=!0},onOpenChange:u=>{a.value=u},onOpenToggle:()=>{a.value=!a.value},contentId:"",titleId:"",descriptionId:"",triggerElement:v,contentElement:g}),(u,r)=>d(u.$slots,"default",{open:t(a),close:()=>a.value=!1})}}),ce=fe,ve=C({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(o){const l=o;q();const e=O();return(s,a)=>(n(),p(t(w),D(l,{type:s.as==="button"?"button":void 0,onClick:a[0]||(a[0]=v=>t(e).onOpenChange(!1))}),{default:i(()=>[d(s.$slots,"default")]),_:3},16,["type"]))}}),ye=ve;function ge(o){return o?"open":"closed"}function Se(o){const l=F();for(const e of o)if(e===l||(e.focus(),F()!==l))return}var me=C({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:l}){const e=o,s=l,a=O(),{forwardRef:v,currentElement:g}=q();return a.titleId||=S(void 0,"reka-dialog-title"),a.descriptionId||=S(void 0,"reka-dialog-description"),U(()=>{a.contentElement=g,F()!==document.body&&(a.triggerElement.value=F())}),(f,u)=>(n(),p(t(ue),{"as-child":"",loop:"",trapped:e.trapFocus,onMountAutoFocus:u[5]||(u[5]=r=>s("openAutoFocus",r)),onUnmountAutoFocus:u[6]||(u[6]=r=>s("closeAutoFocus",r))},{default:i(()=>[I(t(Y),D({id:t(a).contentId,ref:t(v),as:f.as,"as-child":f.asChild,"disable-outside-pointer-events":f.disableOutsidePointerEvents,role:"dialog","aria-describedby":t(a).descriptionId,"aria-labelledby":t(a).titleId,"data-state":t(ge)(t(a).open.value)},f.$attrs,{onDismiss:u[0]||(u[0]=r=>t(a).onOpenChange(!1)),onEscapeKeyDown:u[1]||(u[1]=r=>s("escapeKeyDown",r)),onFocusOutside:u[2]||(u[2]=r=>s("focusOutside",r)),onInteractOutside:u[3]||(u[3]=r=>s("interactOutside",r)),onPointerDownOutside:u[4]||(u[4]=r=>s("pointerDownOutside",r))}),{default:i(()=>[d(f.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),z=me,_e=C({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:l}){const e=o,s=l,a=O(),v=x(s),{forwardRef:g,currentElement:f}=q();return ie(f),(u,r)=>(n(),p(z,D({...e,...t(v)},{ref:t(g),"trap-focus":t(a).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:r[0]||(r[0]=c=>{c.defaultPrevented||(c.preventDefault(),t(a).triggerElement.value?.focus())}),onPointerDownOutside:r[1]||(r[1]=c=>{const m=c.detail.originalEvent,y=m.button===0&&m.ctrlKey===!0;(m.button===2||y)&&c.preventDefault()}),onFocusOutside:r[2]||(r[2]=c=>{c.preventDefault()})}),{default:i(()=>[d(u.$slots,"default")]),_:3},16,["trap-focus"]))}}),De=_e,Ce=C({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:l}){const e=o,a=x(l);q();const v=O(),g=P(!1),f=P(!1);return(u,r)=>(n(),p(z,D({...e,...t(a)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:r[0]||(r[0]=c=>{c.defaultPrevented||(g.value||t(v).triggerElement.value?.focus(),c.preventDefault()),g.value=!1,f.value=!1}),onInteractOutside:r[1]||(r[1]=c=>{c.defaultPrevented||(g.value=!0,c.detail.originalEvent.type==="pointerdown"&&(f.value=!0));const m=c.target;t(v).triggerElement.value?.contains(m)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&f.value&&c.preventDefault()})}),{default:i(()=>[d(u.$slots,"default")]),_:3},16))}}),qe=Ce,Oe=C({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:l}){const e=o,s=l,a=O(),v=x(s),{forwardRef:g}=q();return(f,u)=>(n(),p(t(H),{present:f.forceMount||t(a).open.value},{default:i(()=>[t(a).modal.value?(n(),p(De,D({key:0,ref:t(g)},{...e,...t(v),...f.$attrs}),{default:i(()=>[d(f.$slots,"default")]),_:3},16)):(n(),p(qe,D({key:1,ref:t(g)},{...e,...t(v),...f.$attrs}),{default:i(()=>[d(f.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),be=Oe,Be=C({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(o){const l=o;q();const e=O();return(s,a)=>(n(),p(t(w),D(l,{id:t(e).descriptionId}),{default:i(()=>[d(s.$slots,"default")]),_:3},16,["id"]))}}),N=Be,he=C({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const l=O();return de(!0),q(),(e,s)=>(n(),p(t(w),{as:e.as,"as-child":e.asChild,"data-state":t(l).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:i(()=>[d(e.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),we=he,Ee=C({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const l=O(),{forwardRef:e}=q();return(s,a)=>t(l)?.modal.value?(n(),p(t(H),{key:0,present:s.forceMount||t(l).open.value},{default:i(()=>[I(we,D(s.$attrs,{ref:t(e),as:s.as,"as-child":s.asChild}),{default:i(()=>[d(s.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):_("v-if",!0)}}),$e=Ee,ke=C({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(o){const l=o;return(e,s)=>(n(),p(t(G),R(T(l)),{default:i(()=>[d(e.$slots,"default")]),_:3},16))}}),Pe=ke,Fe=C({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(o){const l=o,e=O();return q(),(s,a)=>(n(),p(t(w),D(l,{id:t(e).titleId}),{default:i(()=>[d(s.$slots,"default")]),_:3},16,["id"]))}}),j=Fe,Ie=C({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(o){const l=o,e=O(),{forwardRef:s,currentElement:a}=q();return e.contentId||=S(void 0,"reka-dialog-content"),U(()=>{e.triggerElement.value=a.value}),(v,g)=>(n(),p(t(w),D(l,{ref:t(s),type:v.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":t(e).open.value||!1,"aria-controls":t(e).open.value?t(e).contentId:void 0,"data-state":t(e).open.value?"open":"closed",onClick:t(e).onOpenToggle}),{default:i(()=>[d(v.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),Ae=Ie;const Me={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-lg shadow-lg ring ring-default overflow-hidden"}}}},xe={__name:"UModal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:[String,Object],required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(o,{emit:l}){const e=o,s=l,a=Q(),{t:v}=Z(),g=ee(),f=te(ae(e,"open","defaultOpen","modal"),s),u=oe(V(()=>e.portal)),r=V(()=>e.content),c=K(()=>{const y={closeAutoFocus:b=>b.preventDefault()};return e.dismissible?y:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((E,h)=>(E[h]=A=>{A.preventDefault(),s("close:prevent")},E),y)}),m=K(()=>L({extend:L(Me),...g.ui?.modal||{}})({transition:e.transition,fullscreen:e.fullscreen}));return(y,b)=>(n(),p(t(ce),R(T(t(f))),{default:i(({open:E,close:h})=>[a.default?(n(),p(t(Ae),{key:0,"as-child":"",class:B(e.class)},{default:i(()=>[d(y.$slots,"default",{open:E})]),_:2},1032,["class"])):_("",!0),I(t(Pe),R(T(t(u))),{default:i(()=>[o.overlay?(n(),p(t($e),{key:0,class:B(m.value.overlay({class:e.ui?.overlay}))},null,8,["class"])):_("",!0),I(t(be),D({class:m.value.content({class:[!a.default&&e.class,e.ui?.content]})},r.value,{onAfterEnter:b[0]||(b[0]=A=>s("after:enter")),onAfterLeave:b[1]||(b[1]=A=>s("after:leave"))},se(c.value)),{default:i(()=>[a.content&&(o.title||a.title||o.description||a.description)?(n(),p(t(le),{key:0},{default:i(()=>[o.title||a.title?(n(),p(t(j),{key:0},{default:i(()=>[d(y.$slots,"title",{},()=>[$(k(o.title),1)])]),_:3})):_("",!0),o.description||a.description?(n(),p(t(N),{key:1},{default:i(()=>[d(y.$slots,"description",{},()=>[$(k(o.description),1)])]),_:3})):_("",!0)]),_:3})):_("",!0),d(y.$slots,"content",{close:h},()=>[a.header||o.title||a.title||o.description||a.description||e.close||a.close?(n(),M("div",{key:0,class:B(m.value.header({class:e.ui?.header}))},[d(y.$slots,"header",{close:h},()=>[re("div",{class:B(m.value.wrapper({class:e.ui?.wrapper}))},[o.title||a.title?(n(),p(t(j),{key:0,class:B(m.value.title({class:e.ui?.title}))},{default:i(()=>[d(y.$slots,"title",{},()=>[$(k(o.title),1)])]),_:3},8,["class"])):_("",!0),o.description||a.description?(n(),p(t(N),{key:1,class:B(m.value.description({class:e.ui?.description}))},{default:i(()=>[d(y.$slots,"description",{},()=>[$(k(o.description),1)])]),_:3},8,["class"])):_("",!0)],2),d(y.$slots,"actions"),e.close||a.close?(n(),p(t(ye),{key:0,"as-child":""},{default:i(()=>[d(y.$slots,"close",{close:h,ui:m.value},()=>[e.close?(n(),p(ne,D({key:0,icon:o.closeIcon||t(g).ui.icons.close,color:"neutral",variant:"ghost","aria-label":t(v)("modal.close")},typeof e.close=="object"?e.close:{},{class:m.value.close({class:e.ui?.close})}),null,16,["icon","aria-label","class"])):_("",!0)])]),_:2},1024)):_("",!0)])],2)):_("",!0),a.body?(n(),M("div",{key:1,class:B(m.value.body({class:e.ui?.body}))},[d(y.$slots,"body",{close:h})],2)):_("",!0),a.footer?(n(),M("div",{key:2,class:B(m.value.footer({class:e.ui?.footer}))},[d(y.$slots,"footer",{close:h})],2)):_("",!0)])]),_:2},1040,["class"])]),_:2},1040)]),_:3},16))}};export{xe as _,Se as f};
