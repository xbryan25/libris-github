import{e as g,r as _,j as y,k,c as f,o as p,G as B,b as e,h as C,w as r,d as x,l as b,aO as L,a as s,n as $,b1 as j,q as M,g as N,ad as c,_ as T,t as W}from"#entry";import{_ as q}from"./BBAx4NdI.js";import{_ as z}from"./CJicb5b5.js";import{_ as A}from"./C7WvCpXZ.js";import{u as P}from"./BOBB1PrM.js";import"./DtqH_ZTs.js";const R={class:"flex flex-col gap-1 items-center w-full h-40 p-5"},U={class:"flex gap-2 w-full pt-5 justify-center"},V=g({__name:"LogoutButton",setup(h){const n=_(!1),u=y(),m=k(),l=async()=>{try{const{messageTitle:a,message:t}=await m.logout();u.add({title:a,description:t,color:"success"}),$("/login")}catch(a){u.add({title:"Login failed.",description:a.data.error,color:"error"})}};return(a,t)=>{const o=C,i=z;return p(),f(B,null,[e(o,{class:"cursor-pointer",onClick:t[0]||(t[0]=d=>n.value=!0)},{default:r(()=>[...t[4]||(t[4]=[x("Logout?",-1)])]),_:1}),e(i,{open:b(n),"onUpdate:open":t[3]||(t[3]=d=>L(n)?n.value=d:null)},{content:r(()=>[s("div",R,[t[7]||(t[7]=s("h2",{class:"text-3xl font-semibold"},"Logout Confirmation",-1)),t[8]||(t[8]=s("h3",{class:"text-md font-semibold text-muted"},"Are you sure you want to log out?",-1)),s("div",U,[e(o,{size:"md",color:"error",variant:"solid",class:"cursor-pointer",onClick:t[1]||(t[1]=d=>n.value=!1)},{default:r(()=>[...t[5]||(t[5]=[x("Cancel",-1)])]),_:1}),e(o,{size:"md",color:"primary",variant:"solid",type:"submit",class:"cursor-pointer",onClick:t[2]||(t[2]=async()=>await l())},{default:r(()=>[...t[6]||(t[6]=[x("Confirm",-1)])]),_:1})])])]),_:1},8,["open"])],64)}}}),D=Object.assign(V,{__name:"LogoutButton"}),F={class:"min-h-screen w-full flex flex-col bg-background text-base"},O={class:"w-full border-b border-base bg-surface"},S={class:"w-full flex items-center justify-between px-6 py-4"},E={class:"flex items-center gap-2 ml-8"},G={class:"flex items-center gap-1 mr-8"},I={class:"flex items-center rounded-md px-3 py-2 gap-1.5"},H={key:0,class:"text-xl font-semibold text-accent"},J={key:1,class:"text-xl font-semibold text-accent"},K={class:"flex items-center rounded-md p-2 hover:bg-surface-hover hover:text-accent text-base cursor-pointer transition-colors"},Q={class:"flex-1 justify-center items-center bg-background"},ot=g({__name:"default",setup(h){const n=j(),u=_(0),m=_(!0);M(async()=>{m.value=!0;const a=await P();u.value=a.currentWalletBalance??0,m.value=!1});const l=a=>!!(n.path===a||n.path.startsWith("/books/")&&n.query.from&&a==="/browse"&&n.query.from==="browse");return(a,t)=>{const o=N,i=T,d=q,v=D,w=A;return p(),f("div",F,[s("nav",O,[s("div",S,[s("div",E,[e(o,{name:"icons:logo",class:"w-9 h-9 text-accent"}),t[0]||(t[0]=s("h1",{class:"text-2xl font-semibold"},"Libris",-1))]),s("div",G,[e(i,{to:"/dashboard",class:c(["flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors",l("/dashboard")?"bg-accent text-white":"hover:bg-surface-hover hover:text-accent text-base"])},{default:r(()=>[e(o,{name:"ri:dashboard-line",class:"w-5 h-5 flex-shrink-0"}),t[1]||(t[1]=s("span",null,"Dashboard",-1))]),_:1},8,["class"]),e(i,{to:"/browse",class:c(["flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors",l("/browse")?"bg-accent text-white":"hover:bg-surface-hover hover:text-accent text-base"])},{default:r(()=>[e(o,{name:"ph:magnifying-glass-bold",class:"w-5 h-5"}),t[2]||(t[2]=s("span",null,"Browse",-1))]),_:1},8,["class"]),e(i,{to:"/library",class:c(["flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors",l("/library")?"bg-accent text-white":"hover:bg-surface-hover hover:text-accent text-base"])},{default:r(()=>[e(o,{name:"lucide:book-open",class:"w-5 h-5 flex-shrink-0"}),t[3]||(t[3]=s("span",null,"My Library",-1))]),_:1},8,["class"]),e(i,{to:"/rentals",class:c(["flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors",l("/rentals")?"bg-accent text-white":"hover:bg-surface-hover hover:text-accent text-base"])},{default:r(()=>[e(o,{name:"ci-calendar",class:"w-5 h-5 flex-shrink-0"}),t[4]||(t[4]=s("span",null,"Rentals",-1))]),_:1},8,["class"]),e(i,{to:"/purchases",class:c(["flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors",l("/purchases")?"bg-accent text-white":"hover:bg-surface-hover hover:text-accent text-base"])},{default:r(()=>[e(o,{name:"material-symbols:shopping-cart-outline-rounded",class:"w-5 h-5 flex-shrink-0"}),t[5]||(t[5]=s("span",null,"Purchases",-1))]),_:1},8,["class"]),e(i,{to:"/users/me",class:c(["flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors",l("/users/me")?"bg-accent text-white":"hover:bg-surface-hover hover:text-accent text-base"])},{default:r(()=>[e(o,{name:"lucide:circle-user",class:"w-5 h-5 flex-shrink-0"}),t[6]||(t[6]=s("span",null,"Profile",-1))]),_:1},8,["class"]),s("div",I,[e(o,{name:"fluent:book-coins-20-regular",class:"w-6 h-6 text-accent"}),b(m)?(p(),f("span",H,"-")):(p(),f("span",J,W(b(u)),1))]),s("button",K,[e(o,{name:"mdi:bell-outline",class:"w-5 h-5"})]),e(d,{class:"hover:text-accent hover:bg-surface-hover transition-colors"}),e(v)])])]),s("main",Q,[e(w)])])}}});export{ot as default};
