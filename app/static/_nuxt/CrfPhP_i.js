import{e as O,A as se,B as oe,C as re,m as w,f as h,o as f,w as _,y as k,q as n,O as U,b5 as Pe,a0 as ae,T as N,W as A,R as L,I as le,b6 as qe,b as m,L as ne,x as D,U as V,K as H,X as ie,a1 as de,p as K,M as Ce,b7 as $e,J as ke,P as Oe,D as F,aN as j,j as ue,r as Be,a2 as Se,a3 as Ue,a4 as Z,a5 as Ee,a6 as M,a7 as Fe,ab as X,s as S,ad as ce,b8 as De,h as W,a as l,d as E,c as C,g as fe,t as q,v as I}from"#entry";import{_ as pe}from"./CwD6Q_uK.js";import{P as me,c as G,b as ve,a as ye,u as Ie,d as _e,_ as Ne,e as ge}from"./njzFu03f.js";import{_ as xe}from"./GmZGs_j5.js";import{F as Ae,u as Te,a as Re,b as he}from"./DE9DI5Cg.js";import{u as je}from"./C5QPy4Au.js";import{_ as Ve}from"./DlAUqK2U.js";import{_ as Me}from"./DFSraatG.js";const[T,Le]=se("PopoverRoot");var He=O({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:["update:open"],setup(s,{emit:r}){const e=s,o=r,{modal:p}=oe(e),i=re(e,"open",o,{defaultValue:e.defaultOpen,passive:e.open===void 0}),c=w(),d=w(!1);return Le({contentId:"",triggerId:"",modal:p,open:i,onOpenChange:y=>{i.value=y},onOpenToggle:()=>{i.value=!i.value},triggerElement:c,hasCustomAnchor:d}),(y,a)=>(f(),h(n(me),null,{default:_(()=>[k(y.$slots,"default",{open:n(i),close:()=>i.value=!1})]),_:3}))}}),ze=He,Ke=O({__name:"PopoverAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(s){const r=s;U();const e=T();return Pe(()=>{e.hasCustomAnchor.value=!0}),ae(()=>{e.hasCustomAnchor.value=!1}),(o,p)=>(f(),h(n(G),N(A(r)),{default:_(()=>[k(o.$slots,"default")]),_:3},16))}}),We=Ke,Ge=O({__name:"PopoverArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(s){const r=s;return U(),(e,o)=>(f(),h(n(ve),N(A(r)),{default:_(()=>[k(e.$slots,"default")]),_:3},16))}}),Je=Ge,Ze=O({__name:"PopoverClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(s){const r=s;U();const e=T();return(o,p)=>(f(),h(n(L),{type:o.as==="button"?"button":void 0,as:o.as,"as-child":r.asChild,onClick:p[0]||(p[0]=i=>n(e).onOpenChange(!1))},{default:_(()=>[k(o.$slots,"default")]),_:3},8,["type","as","as-child"]))}}),Xe=Ze,Qe=O({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:r}){const e=s,o=r,p=le(qe(e,"trapFocus","disableOutsidePointerEvents")),{forwardRef:i}=U(),c=T();return je(),(d,y)=>(f(),h(n(Ae),{"as-child":"",loop:"",trapped:d.trapFocus,onMountAutoFocus:y[5]||(y[5]=a=>o("openAutoFocus",a)),onUnmountAutoFocus:y[6]||(y[6]=a=>o("closeAutoFocus",a))},{default:_(()=>[m(n(ne),{"as-child":"","disable-outside-pointer-events":d.disableOutsidePointerEvents,onPointerDownOutside:y[0]||(y[0]=a=>o("pointerDownOutside",a)),onInteractOutside:y[1]||(y[1]=a=>o("interactOutside",a)),onEscapeKeyDown:y[2]||(y[2]=a=>o("escapeKeyDown",a)),onFocusOutside:y[3]||(y[3]=a=>o("focusOutside",a)),onDismiss:y[4]||(y[4]=a=>n(c).onOpenChange(!1))},{default:_(()=>[m(n(ye),D(n(p),{id:n(c).contentId,ref:n(i),"data-state":n(c).open.value?"open":"closed","aria-labelledby":n(c).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:_(()=>[k(d.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),be=Qe,Ye=O({__name:"PopoverContentModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:r}){const e=s,o=r,p=T(),i=w(!1);Te(!0);const c=V(e,o),{forwardRef:d,currentElement:y}=U();return Re(y),(a,t)=>(f(),h(be,D(n(c),{ref:n(d),"trap-focus":n(p).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:t[0]||(t[0]=H(u=>{o("closeAutoFocus",u),i.value||n(p).triggerElement.value?.focus()},["prevent"])),onPointerDownOutside:t[1]||(t[1]=u=>{o("pointerDownOutside",u);const v=u.detail.originalEvent,b=v.button===0&&v.ctrlKey===!0,g=v.button===2||b;i.value=g}),onFocusOutside:t[2]||(t[2]=H(()=>{},["prevent"]))}),{default:_(()=>[k(a.$slots,"default")]),_:3},16,["trap-focus"]))}}),et=Ye,tt=O({__name:"PopoverContentNonModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:r}){const e=s,o=r,p=T(),i=w(!1),c=w(!1),d=V(e,o);return(y,a)=>(f(),h(be,D(n(d),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:a[0]||(a[0]=t=>{o("closeAutoFocus",t),t.defaultPrevented||(i.value||n(p).triggerElement.value?.focus(),t.preventDefault()),i.value=!1,c.value=!1}),onInteractOutside:a[1]||(a[1]=async t=>{o("interactOutside",t),t.defaultPrevented||(i.value=!0,t.detail.originalEvent.type==="pointerdown"&&(c.value=!0));const u=t.target;n(p).triggerElement.value?.contains(u)&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&c.value&&t.preventDefault()})}),{default:_(()=>[k(y.$slots,"default")]),_:3},16))}}),st=tt,ot=O({__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:r}){const e=s,o=r,p=T(),i=V(e,o),{forwardRef:c}=U();return p.contentId||=he(void 0,"reka-popover-content"),(d,y)=>(f(),h(n(ie),{present:d.forceMount||n(p).open.value},{default:_(()=>[n(p).modal.value?(f(),h(et,D({key:0},n(i),{ref:n(c)}),{default:_(()=>[k(d.$slots,"default")]),_:3},16)):(f(),h(st,D({key:1},n(i),{ref:n(c)}),{default:_(()=>[k(d.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),rt=ot,at=O({__name:"PopoverPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(s){const r=s;return(e,o)=>(f(),h(n(de),N(A(r)),{default:_(()=>[k(e.$slots,"default")]),_:3},16))}}),lt=at,nt=O({__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(s){const r=s,e=T(),{forwardRef:o,currentElement:p}=U();return e.triggerId||=he(void 0,"reka-popover-trigger"),K(()=>{e.triggerElement.value=p.value}),(i,c)=>(f(),h(Ce(n(e).hasCustomAnchor.value?n(L):n(G)),{"as-child":""},{default:_(()=>[m(n(L),{id:n(e).triggerId,ref:n(o),type:i.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":n(e).open.value,"aria-controls":n(e).contentId,"data-state":n(e).open.value?"open":"closed",as:i.as,"as-child":r.asChild,onClick:n(e).onOpenToggle},{default:_(()=>[k(i.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),it=nt,dt=O({__name:"HoverCardArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(s){const r=s;return U(),(e,o)=>(f(),h(n(ve),N(A(r)),{default:_(()=>[k(e.$slots,"default")]),_:3},16))}}),ut=dt;const[J,ct]=se("HoverCardRoot");var ft=O({__name:"HoverCardRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},openDelay:{type:Number,required:!1,default:700},closeDelay:{type:Number,required:!1,default:300}},emits:["update:open"],setup(s,{emit:r}){const e=s,o=r,{openDelay:p,closeDelay:i}=oe(e);U();const c=re(e,"open",o,{defaultValue:e.defaultOpen,passive:e.open===void 0}),d=w(0),y=w(0),a=w(!1),t=w(!1),u=w(!1),v=w();function b(){clearTimeout(y.value),d.value=window.setTimeout(()=>c.value=!0,p.value)}function g(){clearTimeout(d.value),!a.value&&!t.value&&(y.value=window.setTimeout(()=>c.value=!1,i.value))}function P(){c.value=!1}return ct({open:c,onOpenChange(x){c.value=x},onOpen:b,onClose:g,onDismiss:P,hasSelectionRef:a,isPointerDownOnContentRef:t,isPointerInTransitRef:u,triggerElement:v}),(x,$)=>(f(),h(n(me),null,{default:_(()=>[k(x.$slots,"default",{open:n(c)})]),_:3}))}}),pt=ft;function z(s){return r=>r.pointerType==="touch"?void 0:s()}function mt(s){const r=[],e=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;e.nextNode();)r.push(e.currentNode);return r}var vt=O({__name:"HoverCardContentImpl",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(s,{emit:r}){const e=s,o=r,p=le(e),{forwardRef:i,currentElement:c}=U(),d=J(),{isPointerInTransit:y,onPointerExit:a}=Ie(d.triggerElement,c);$e(d.isPointerInTransitRef,y,{direction:"rtl"}),a(()=>{d.onClose()});const t=w(!1);let u;ke(b=>{if(t.value){const g=document.body;u=g.style.userSelect||g.style.webkitUserSelect,g.style.userSelect="none",g.style.webkitUserSelect="none",b(()=>{g.style.userSelect=u,g.style.webkitUserSelect=u})}});function v(){t.value=!1,d.isPointerDownOnContentRef.value=!1,Oe(()=>{document.getSelection()?.toString()!==""&&(d.hasSelectionRef.value=!0)})}return K(()=>{c.value&&(document.addEventListener("pointerup",v),mt(c.value).forEach(g=>g.setAttribute("tabindex","-1")))}),ae(()=>{document.removeEventListener("pointerup",v),d.hasSelectionRef.value=!1,d.isPointerDownOnContentRef.value=!1}),(b,g)=>(f(),h(n(ne),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:g[1]||(g[1]=P=>o("escapeKeyDown",P)),onPointerDownOutside:g[2]||(g[2]=P=>o("pointerDownOutside",P)),onFocusOutside:g[3]||(g[3]=H(P=>o("focusOutside",P),["prevent"])),onDismiss:n(d).onDismiss},{default:_(()=>[m(n(ye),D({...n(p),...b.$attrs},{ref:n(i),"data-state":n(d).open.value?"open":"closed",style:{userSelect:t.value?"text":void 0,WebkitUserSelect:t.value?"text":void 0,"--reka-hover-card-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-hover-card-content-available-width":"var(--reka-popper-available-width)","--reka-hover-card-content-available-height":"var(--reka-popper-available-height)","--reka-hover-card-trigger-width":"var(--reka-popper-anchor-width)","--reka-hover-card-trigger-height":"var(--reka-popper-anchor-height)"},onPointerdown:g[0]||(g[0]=P=>{P.currentTarget.contains(P.target)&&(t.value=!0),n(d).hasSelectionRef.value=!1,n(d).isPointerDownOnContentRef.value=!0})}),{default:_(()=>[k(b.$slots,"default")]),_:3},16,["data-state","style"])]),_:3},8,["onDismiss"]))}}),yt=vt,_t=O({__name:"HoverCardContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(s,{emit:r}){const p=V(s,r),{forwardRef:i}=U(),c=J();return(d,y)=>(f(),h(n(ie),{present:d.forceMount||n(c).open.value},{default:_(()=>[m(yt,D(n(p),{ref:n(i),onPointerenter:y[0]||(y[0]=a=>n(z)(n(c).onOpen)(a))}),{default:_(()=>[k(d.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),gt=_t,xt=O({__name:"HoverCardPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(s){const r=s;return(e,o)=>(f(),h(n(de),N(A(r)),{default:_(()=>[k(e.$slots,"default")]),_:3},16))}}),ht=xt,bt=O({__name:"HoverCardTrigger",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"a"}},setup(s){const{forwardRef:r,currentElement:e}=U(),o=J();o.triggerElement=e;function p(){setTimeout(()=>{!o.isPointerInTransitRef.value&&!o.open.value&&o.onClose()},0)}return(i,c)=>(f(),h(n(G),{"as-child":"",reference:i.reference},{default:_(()=>[m(n(L),{ref:n(r),"as-child":i.asChild,as:i.as,"data-state":n(o).open.value?"open":"closed","data-grace-area-trigger":"",onPointerenter:c[0]||(c[0]=d=>n(z)(n(o).onOpen)(d)),onPointerleave:c[1]||(c[1]=d=>n(z)(p)(d)),onFocus:c[2]||(c[2]=d=>n(o).onOpen()),onBlur:c[3]||(c[3]=d=>n(o).onClose())},{default:_(()=>[k(i.$slots,"default")]),_:3},8,["as-child","as","data-state"])]),_:3},8,["reference"]))}}),wt=bt;const Q="http://127.0.0.1:8080",Co=s=>{const r=w(null),e=w(!0),o=w(null),p=F(()=>o.value==="User not found."||o.value==="Invalid user ID format."),{$apiFetch:i}=j();return{profile:r,loading:e,error:o,isUserNotFound:p,fetchProfile:async()=>{e.value=!0,o.value=null;try{const d=s?`${Q}/api/users/profile/${s}`:`${Q}/api/users/profile/me`,a=await i(d,{credentials:"include"});a.address||(a.address={street:"-",barangay:"-",city:"-",country:"-",postal_code:"-"}),a.account_activated_at&&(a.account_activated_at=new Date(a.account_activated_at).toLocaleDateString("en-US",{month:"long",day:"2-digit",year:"numeric"})),a.date_of_birth&&(a.date_of_birth=new Date(a.date_of_birth).toLocaleDateString("en-US",{month:"long",day:"2-digit",year:"numeric"})),r.value=a}catch(d){d?.response?.status===404?o.value="User not found.":d?.response?.status===400?o.value="Invalid user ID format.":o.value=d?.message||"Failed to fetch profile info"}finally{e.value=!1}}}},Y="http://127.0.0.1:8080",Pt=()=>{const s=w(!1),r=w(!1),e=w(null),o=w(null),p=ue(),{$apiFetch:i}=j(),c=Be({first_name:"",middle_name:"",last_name:"",date_of_birth:"",phone_number:"",profile_image_url:"",address:{country:"",city:"",barangay:"",street:"",postal_code:""}}),d=v=>{v&&(c.first_name=v.first_name||"",c.middle_name=v.middle_name||"",c.last_name=v.last_name||"",c.date_of_birth=v.date_of_birth||"",c.phone_number=v.phone_number||"",c.profile_image_url=v.profile_image_url||"",v.address&&(c.address.country=v.address.country||"",c.address.city=v.address.city||"",c.address.barangay=v.address.barangay||"",c.address.street=v.address.street||"",c.address.postal_code=v.address.postal_code||""))};return{isEditing:s,saving:r,error:e,success:o,editForm:c,startEditing:v=>{d(v),s.value=!0,e.value=null,o.value=null},cancelEditing:()=>{s.value=!1,e.value=null,o.value=null},saveProfile:async v=>{r.value=!0,e.value=null,o.value=null;try{const g=JSON.parse(JSON.stringify(v||c,($,B)=>{if(typeof B=="string")return B.trim();if(B!=null)return B})),P=await i(`${Y}/api/users/profile/me`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!P.ok){const $=await P.json();throw new Error($.message||"Failed to update profile")}const x=await P.json();return o.value=x.message||"Profile updated successfully",p.add({title:"Success",description:o.value??"",color:"success"}),s.value=!1,c}catch(b){e.value=b.message||"Failed to update profile",p.add({title:"Error",description:e.value??"Failed to update profile",color:"error"})}finally{r.value=!1}},updateProfileImage:async v=>{try{if(r.value=!0,!(await i(`${Y}/api/users/profile/me`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_image_url:v})})).ok)throw new Error("Failed to update profile picture");c.profile_image_url=v,o.value="Profile picture updated successfully"}catch(b){e.value=b.message||"Failed to update profile picture"}finally{r.value=!1}}}},qt={Root:pt,Trigger:wt,Portal:ht,Content:gt,Arrow:ut},Ct={Root:ze,Trigger:it,Portal:lt,Content:rt,Arrow:Je,Close:Xe,Anchor:We},$t={slots:{content:"bg-default shadow-lg rounded-md ring ring-default data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-popover-content-transform-origin) focus:outline-none pointer-events-auto",arrow:"fill-default"}},kt={__name:"UPopover",props:{mode:{type:String,required:!1,default:"click"},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},reference:{type:null,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},modal:{type:Boolean,required:!1},openDelay:{type:Number,required:!1,default:0},closeDelay:{type:Number,required:!1,default:0}},emits:["close:prevent","update:open"],setup(s,{emit:r}){const e=s,o=r,p=Se(),i=Ue(),c=e.mode==="hover"?Z(e,"defaultOpen","open","openDelay","closeDelay"):Z(e,"defaultOpen","open","modal"),d=V(c,o),y=Ee(M(()=>e.portal)),a=M(()=>Fe(e.content,{side:"bottom",sideOffset:8,collisionPadding:8})),t=F(()=>e.dismissible?{}:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((P,x)=>(P[x]=$=>{$.preventDefault(),o("close:prevent")},P),{})),u=M(()=>e.arrow),v=F(()=>X({extend:X($t),...i.ui?.popover||{}})({side:a.value.side})),b=F(()=>e.mode==="hover"?qt:Ct);return(g,P)=>(f(),h(n(b).Root,N(A(n(d))),{default:_(({open:x})=>[p.default||s.reference?(f(),h(n(b).Trigger,{key:0,"as-child":"",reference:s.reference,class:ce(e.class)},{default:_(()=>[k(g.$slots,"default",{open:x})]),_:2},1032,["reference","class"])):S("",!0),"Anchor"in b.value&&p.anchor?(f(),h(n(b).Anchor,{key:1,"as-child":""},{default:_(()=>[k(g.$slots,"anchor")]),_:3})):S("",!0),m(n(b).Portal,N(A(n(y))),{default:_(()=>[m(n(b).Content,D(a.value,{class:v.value.content({class:[!p.default&&e.class,e.ui?.content]})},De(t.value)),{default:_(()=>[k(g.$slots,"content"),s.arrow?(f(),h(n(b).Arrow,D({key:0},u.value,{class:v.value.arrow({class:e.ui?.arrow})}),null,16,["class"])):S("",!0)]),_:3},16,["class"])]),_:3},16)]),_:3},16))}},Ot={},Bt={class:"p-3 text-sm text-muted w-[300px] space-y-3"},St={class:"flex flex-col space-y-2"},Ut={class:"flex items-center justify-between"},Et={class:"flex items-center justify-between"},Ft={class:"flex items-center justify-between"},Dt={class:"flex items-center justify-between"},It={class:"flex items-center justify-between"},Nt={class:"flex items-center justify-between"};function At(s,r){const e=W,o=_e,p=kt;return f(),h(p,null,{content:_(()=>[l("div",Bt,[r[12]||(r[12]=l("div",{class:"font-semibold mb-2"},"Trust Score Criteria",-1)),l("div",St,[l("div",Ut,[r[1]||(r[1]=l("span",null,"1000 - 951",-1)),m(o,{class:"bg-[#15803D] text-white text-center px-3",variant:"solid"},{default:_(()=>[...r[0]||(r[0]=[E("Perfect",-1)])]),_:1})]),l("div",Et,[r[3]||(r[3]=l("span",null,"950 - 751",-1)),m(o,{class:"bg-[#22C55E] text-white text-center px-3",variant:"solid"},{default:_(()=>[...r[2]||(r[2]=[E("Exceptional",-1)])]),_:1})]),l("div",Ft,[r[5]||(r[5]=l("span",null,"750 - 500",-1)),m(o,{class:"bg-[#84CC16] text-white text-center px-3",variant:"solid"},{default:_(()=>[...r[4]||(r[4]=[E("Good",-1)])]),_:1})]),l("div",Dt,[r[7]||(r[7]=l("span",null,"500 - 251",-1)),m(o,{class:"bg-[#FACC15] text-white text-center px-3",variant:"solid"},{default:_(()=>[...r[6]||(r[6]=[E("Decent",-1)])]),_:1})]),l("div",It,[r[9]||(r[9]=l("span",null,"250 - 51",-1)),m(o,{class:"bg-[#CA8A04] text-white text-center px-3",variant:"solid"},{default:_(()=>[...r[8]||(r[8]=[E("Bad",-1)])]),_:1})]),l("div",Nt,[r[11]||(r[11]=l("span",null,"50 - 0",-1)),m(o,{class:"bg-[#000000] text-white text-center px-3",variant:"solid"},{default:_(()=>[...r[10]||(r[10]=[E("Poor",-1)])]),_:1})])])])]),default:_(()=>[m(e,{icon:"i-heroicons-information-circle",variant:"ghost",size:"lg"})]),_:1})}const Tt=Object.assign(Ve(Ot,[["render",At]]),{__name:"TrustScoreDetails"}),Rt=s=>{const r=w(!1),e=w(null),o=w(null),p=w(0),i=ue(),{$apiFetch:c}=j();return{uploading:r,error:e,success:o,progress:p,uploadProfilePicture:async(t,u)=>{r.value=!0,e.value=null,p.value=0;try{const{$supabase:v}=j();if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(t.type))throw new Error("Please upload a valid image file (JPEG, PNG, or WebP)");const g=5*1024*1024;if(t.size>g)throw new Error("File size must be less than 5MB");const P=t.name.split(".").pop(),$=`profile-pictures/${`profile-${u}-${Date.now()}.${P}`}`,{error:B}=await v.storage.from("profile_images").upload($,t,{cacheControl:"3600",upsert:!1,contentType:t.type});if(B)throw new Error(`Upload failed: ${B.message}`);const{data:R}=v.storage.from("profile_images").getPublicUrl($);if(!R?.publicUrl)throw new Error("Failed to get image URL");return p.value=100,R.publicUrl}catch(v){return e.value=v.message||"Upload failed",null}finally{r.value=!1}},updateProfileImageUrl:async t=>{try{return await c("http://127.0.0.1:8080/api/users/profile/me",{method:"PATCH",credentials:"include",body:{profile_image_url:t}}),i.add({title:"Success",description:"Profile picture updated successfully!",color:"success"}),!0}catch(u){return e.value=u.message||"Failed to update profile",i.add({title:"Error",description:u.message||"Failed to update profile",color:"error"}),!1}},deleteOldProfilePicture:async t=>{if(t)try{const{$supabase:u}=j(),b=`profile-pictures/${t.split("/").pop()}`;await u.storage.from("profile_images").remove([b])}catch(u){console.warn("Failed to delete old profile picture:",u)}}}},jt={class:"flex flex-col items-center space-y-4"},Vt={class:"relative group"},Mt={class:"w-32 h-32 rounded-full overflow-hidden border-4 border-gray-200"},Lt=["src"],Ht=["disabled"],zt={key:0,class:"flex space-x-2"},Kt={key:1,class:"text-red-500 text-sm text-center max-w-xs"},Wt=O({__name:"ProfilePictureUpload",props:{currentImageUrl:{},userId:{},onImageUpdate:{type:Function}},emits:["imageUpdated"],setup(s,{emit:r}){const e=s,o=r,{uploading:p,error:i,uploadProfilePicture:c,updateProfileImageUrl:d,deleteOldProfilePicture:y}=Rt(),a=w(),t=w(null),u=F(()=>t.value||e.currentImageUrl),v=x=>{const B=x.target.files?.[0];B&&(t.value=URL.createObjectURL(B))},b=async()=>{const x=a.value?.files?.[0];if(x)try{const $=await c(x,e.userId);$&&await d($)&&(e.currentImageUrl&&e.currentImageUrl!==$&&await y(e.currentImageUrl),t.value=null,a.value&&(a.value.value=""),o("imageUpdated",$),e.onImageUpdate?.($))}catch($){console.error("Upload failed:",$)}},g=()=>{t.value=null,a.value&&(a.value.value="")},P=()=>{a.value?.click()};return(x,$)=>{const B=fe,R=W,we=Ne;return f(),C("div",jt,[l("div",Vt,[l("div",Mt,[u.value?(f(),C("img",{key:0,src:u.value,alt:"Profile picture",class:"w-full h-full object-cover"},null,8,Lt)):(f(),h(B,{key:1,name:"heroicons:user-circle",class:"w-full h-full text-gray-400"}))]),l("button",{onClick:P,disabled:n(p),class:"absolute inset-0 bg-black bg-opacity-50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center"},[m(B,{name:"heroicons:camera",class:"w-8 h-8"})],8,Ht)]),l("input",{ref_key:"fileInput",ref:a,type:"file",accept:"image/*",onChange:v,class:"hidden"},null,544),t.value?(f(),C("div",zt,[m(R,{onClick:b,loading:n(p),color:"primary",size:"sm"},{default:_(()=>[E(q(n(p)?"Uploading...":"Upload"),1)]),_:1},8,["loading"]),m(R,{onClick:g,disabled:n(p),color:"gray",variant:"outline",size:"sm"},{default:_(()=>[...$[0]||($[0]=[E(" Cancel ",-1)])]),_:1},8,["disabled"])])):S("",!0),n(i)?(f(),C("div",Kt,q(n(i)),1)):S("",!0),m(we,{text:"Click the camera icon to upload a new profile picture. Supported: JPEG, PNG, WebP (max 5MB)"},{default:_(()=>[m(R,{variant:"ghost",size:"sm",icon:"i-heroicons-information-circle"})]),_:1})])}}}),Gt=Object.assign(Wt,{__name:"ProfilePictureUpload"}),ee="http://127.0.0.1:8080",Jt=s=>{const r=w(null),e=w(!1),o=w(null),{$apiFetch:p}=j();return{percentile:r,loading:e,error:o,fetchPercentile:async()=>{e.value=!0,o.value=null;try{const d=s?`${ee}/api/users/trust-score-percentile/${s}`:`${ee}/api/users/trust-score-percentile`;console.log("Making API call to:",d);const y=await p(d,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(console.log("Response status:",y.status),!y.ok)throw new Error(`HTTP error! status: ${y.status}`);const a=await y.json();console.log("API response:",a),r.value=a}catch(d){console.error("Trust score percentile error:",d),o.value=d?.message||"Failed to fetch trust score percentile"}finally{e.value=!1}},getPercentileText:()=>{const d=r.value?.trust_score_percentile;return d==null?" - ":`Better than ${Math.round(d)}% of users`}}},Zt={class:"flex items-center justify-start space-x-6 flex-grow"},Xt={class:"flex flex-col justify-center space-y-3"},Qt={class:"flex items-center h-full"},Yt={class:"flex flex-col space-y-3"},es={class:"flex items-center space-x-2"},ts={class:"flex items-center space-x-3"},ss={key:1,class:"w-full max-w-[1500px] bg-surface border-base flex items-center justify-center p-6"},os={class:"text-lg text-red-500"},rs={key:2,class:"w-full max-w-[1500px] h-auto bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 border-radius rounded-lg flex flex-col md:flex-row items-stretch px-6 py-6"},as={class:"flex items-center justify-start space-x-6 flex-grow"},ls={key:1,class:"w-35 h-35 rounded-full overflow-hidden"},ns=["src","alt"],is={class:"flex-1 flex flex-col justify-center"},ds=["title"],us=["title"],cs={class:"text-[25px] font-bold text-muted"},fs={class:"flex items-center h-full"},ps={class:"flex flex-col"},ms={class:"flex items-center space-x-2"},vs={class:"flex items-center space-x-3"},ys={class:"text-[40px] font-semibold text-base"},_s={class:"text-[15px] font-semibold text-muted"},gs=O({__name:"ProfileMainSection",props:{profile:{},loading:{type:Boolean},error:{},userId:{},isCurrentUser:{type:Boolean},isEditing:{type:Boolean},editForm:{}},emits:["profileUpdated","imageUpdated"],setup(s,{emit:r}){const e=s,{fetchPercentile:o,getPercentileText:p}=Jt(e.userId);Pt(),F(()=>e.editForm||{}),F(()=>e.isEditing||!1);const i=r,c=F(()=>{if(e.profile?.trust_score===null||e.profile?.trust_score===void 0)return{text:"Unknown",color:"bg-gray-500"};const a=e.profile.trust_score;return a>=951?{text:"Perfect",color:"bg-[#15803D]"}:a>=751?{text:"Exceptional",color:"bg-[#22C55E]"}:a>=500?{text:"Good",color:"bg-[#84CC16]"}:a>=251?{text:"Decent",color:"bg-[#FACC15]"}:a>=51?{text:"Bad",color:"bg-[#CA8A04]"}:{text:"Poor",color:"bg-[#000000]"}});I(()=>e.profile,a=>{console.log("Profile changed:",a),a?.trust_score&&(console.log("Fetching trust score percentile..."),o())},{immediate:!0});const d=a=>{i("imageUpdated",a)},y=F(()=>{const a=e.profile?.first_name?.trim()||"",t=e.profile?.middle_name?.trim()||"",u=e.profile?.last_name?.trim()||"";return!a&&!t&&!u?"-":a&&u&&t?`${a} ${t.charAt(0)}. ${u}`:a&&u?`${a} ${u}`:a&&t?`${a} ${t.charAt(0)}.`:t&&u?`${t.charAt(0)}. ${u}`:a||u||"-"});return K(()=>{console.log("ProfileMainSection mounted, profile:",e.profile),e.profile?.trust_score&&(console.log("Fetching trust score percentile..."),o())}),(a,t)=>{const u=pe,v=ge,b=xe,g=fe,P=_e;return s.loading?(f(),h(b,{key:0,class:"w-full max-w-[1500px] h-auto bg-surface border-base flex flex-col md:flex-row items-stretch px-6 py-6"},{default:_(()=>[l("div",Zt,[m(u,{class:"w-35 h-35 rounded-full"}),l("div",Xt,[m(u,{class:"h-12 w-64"}),m(u,{class:"h-10 w-80"}),m(u,{class:"h-8 w-48"})]),l("div",Qt,[m(v,{orientation:"vertical",class:"h-[200px] border-base ml-130",type:"solid"})]),l("div",Yt,[l("div",es,[m(u,{class:"h-10 w-32"}),m(u,{class:"w-6 h-6 rounded-full"})]),l("div",ts,[m(u,{class:"h-12 w-20"}),m(u,{class:"h-8 w-16 rounded-full"})]),m(u,{class:"h-4 w-48"})])])]),_:1})):s.error?(f(),C("div",ss,[l("div",os,"Error: "+q(s.error),1)])):(f(),C("div",rs,[l("div",as,[s.isCurrentUser?(f(),h(Gt,{key:0,"current-image-url":s.profile?.profile_image_url,"user-id":s.profile?.username||"",onImageUpdated:d},null,8,["current-image-url","user-id"])):s.profile?.profile_image_url?(f(),C("div",ls,[l("img",{src:s.profile.profile_image_url,alt:`${s.profile.first_name} ${s.profile.last_name}'s profile picture`,class:"w-full h-full object-cover"},null,8,ns)])):(f(),h(g,{key:2,name:"heroicons:user-circle",class:"w-35 h-35 rounded-full"})),l("div",is,[l("div",{class:"text-[42px] font-bold text-base truncate",title:s.profile?.username},q(s.profile?.username||"-"),9,ds),l("div",{class:"text-[35px] font-bold text-base truncate w-full",title:y.value},q(y.value),9,us),l("div",cs," Joined since "+q(s.profile?.account_activated_at||"-"),1)]),l("div",fs,[m(v,{orientation:"vertical",class:"h-[200px] border-base",type:"solid"})]),l("div",ps,[l("div",ms,[t[0]||(t[0]=l("div",{class:"text-[35px] font-extrabold text-base whitespace-nowrap"},"Trust Score",-1)),m(Tt)]),l("div",vs,[l("div",ys,q(s.profile?.trust_score),1),m(P,{class:ce([c.value.color,"text-white text-center px-3 py-1",c.value.text==="Poor"?"border border-white":""]),variant:"solid"},{default:_(()=>[E(q(c.value.text),1)]),_:1},8,["class"])]),l("div",_s,q(n(p)()),1)])])]))}}}),$o=Object.assign(gs,{__name:"ProfileMainSection"});function te(s){const r=/^[A-Za-z]+(?:\s+[A-Za-z]+)*$/,e=/^[A-Za-z\s]+$/,o=/^\s*$/,p=[];if(!s.first_name||o.test(s.first_name)?p.push({name:"first_name",message:"First name is required."}):r.test(s.first_name.trim())||p.push({name:"first_name",message:"First name must contain only letters and spaces."}),s.middle_name&&!o.test(s.middle_name)&&!r.test(s.middle_name.trim())&&p.push({name:"middle_name",message:"Middle name must contain only letters and spaces."}),!s.last_name||o.test(s.last_name)?p.push({name:"last_name",message:"Last name is required."}):r.test(s.last_name.trim())||p.push({name:"last_name",message:"Last name must contain only letters and spaces."}),s.phone_number&&!o.test(s.phone_number)){const i=s.phone_number.trim();/^[0-9]+$/.test(i)?i.length!==11&&p.push({name:"phone_number",message:"Phone number must be exactly 11 digits."}):p.push({name:"phone_number",message:"Phone number must contain only numbers."})}return s.address?.country&&!o.test(s.address.country)&&!e.test(s.address.country.trim())&&p.push({name:"address.country",message:"Country must contain only letters and spaces."}),p}const xs={class:"flex w-full items-start justify-between space-x-10"},hs={class:"flex flex-col w-full md:w-1/2 space-y-8"},bs={class:"grid grid-cols-3 gap-x-20 gap-y-8"},ws={class:"flex flex-col space-y-2"},Ps={class:"flex flex-col space-y-2"},qs={class:"flex flex-col space-y-2"},Cs={class:"flex flex-col space-y-2"},$s={class:"flex flex-col space-y-2"},ks={class:"flex flex-col w-full md:w-1/2 space-y-8"},Os={class:"grid grid-cols-3 gap-x-20 gap-y-8"},Bs={class:"flex flex-col space-y-2"},Ss={class:"flex flex-col space-y-2"},Us={class:"flex flex-col space-y-2"},Es={class:"flex flex-col space-y-2"},Fs={class:"flex flex-col space-y-2"},Ds={key:1,class:"w-[1500px] h-[350px] bg-surface border-base flex items-center justify-center"},Is={class:"text-lg text-red-500"},Ns={class:"flex flex-col md:flex-row w-full items-start justify-between gap-10"},As={class:"flex flex-col w-full md:w-1/2 space-y-8"},Ts={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-10 gap-y-8 w-full"},Rs={class:"flex flex-col"},js=["title"],Vs={key:2,class:"text-red-500 text-sm"},Ms={class:"flex flex-col"},Ls=["title"],Hs={key:2,class:"text-red-500 text-sm"},zs={class:"flex flex-col"},Ks=["title"],Ws={key:2,class:"text-red-500 text-sm"},Gs={class:"flex flex-col min-w-0"},Js=["title"],Zs={class:"flex flex-col"},Xs=["title"],Qs={key:2,class:"text-red-500 text-sm"},Ys={class:"flex flex-col w-full md:w-1/2 space-y-8"},eo={class:"flex justify-between items-center"},to={class:"flex items-center space-x-2"},so={key:1,class:"flex space-x-2"},oo={class:"grid grid-cols-3 gap-x-20 gap-y-8"},ro={class:"flex flex-col"},ao=["title"],lo={key:2,class:"text-red-500 text-sm"},no={class:"flex flex-col"},io=["title"],uo={class:"flex flex-col"},co=["title"],fo={class:"flex flex-col"},po=["title"],mo={class:"flex flex-col"},vo=["title"],yo=O({__name:"ProfileAdditionalInfo",props:{profile:{},loading:{type:Boolean},error:{},isCurrentUser:{type:Boolean},isEditing:{type:Boolean},editForm:{}},emits:["startEdit","save","cancel"],setup(s,{emit:r}){const e=w({}),o=s,p=r,i=F(()=>o.editForm||{}),c=M(o,"isEditing");I(c,a=>{a?e.value={}:e.value={}}),I(()=>i.value.first_name,a=>{d("first_name")}),I(()=>i.value.middle_name,a=>{d("middle_name")}),I(()=>i.value.last_name,a=>{d("last_name")}),I(()=>i.value.phone_number,a=>{d("phone_number")}),I(()=>i.value.address?.country,a=>{d("address.country")});function d(a){const t={...i.value},v=te(t).find(b=>b.name===a);v?e.value[a]=v.message:delete e.value[a]}function y(){const a=te(i.value);e.value=Object.fromEntries(a.map(t=>[t.name,t.message])),a.length===0&&p("save")}return(a,t)=>{const u=pe,v=ge,b=xe,g=Me,P=W;return s.loading?(f(),h(b,{key:0,class:"w-full max-w-[1500px] h-auto bg-surface border-base flex flex-col md:flex-row items-stretch px-6 md:px-10"},{default:_(()=>[l("div",xs,[l("div",hs,[m(u,{class:"h-10 w-64"}),l("div",bs,[l("div",ws,[m(u,{class:"h-8 w-24"}),m(u,{class:"h-6 w-32"})]),l("div",Ps,[m(u,{class:"h-8 w-28"}),m(u,{class:"h-6 w-28"})]),l("div",qs,[m(u,{class:"h-8 w-20"}),m(u,{class:"h-6 w-30"})]),l("div",Cs,[m(u,{class:"h-8 w-28"}),m(u,{class:"h-6 w-24"})]),l("div",$s,[m(u,{class:"h-8 w-32"}),m(u,{class:"h-6 w-36"})])])]),m(v,{orientation:"vertical",class:"hidden md:block h-[300px]",type:"solid"}),l("div",ks,[m(u,{class:"h-10 w-32"}),l("div",Os,[l("div",Bs,[m(u,{class:"h-8 w-20"}),m(u,{class:"h-6 w-24"})]),l("div",Ss,[m(u,{class:"h-8 w-16"}),m(u,{class:"h-6 w-20"})]),l("div",Us,[m(u,{class:"h-8 w-24"}),m(u,{class:"h-6 w-28"})]),l("div",Es,[m(u,{class:"h-8 w-20"}),m(u,{class:"h-6 w-32"})]),l("div",Fs,[m(u,{class:"h-8 w-28"}),m(u,{class:"h-6 w-20"})])])])])]),_:1})):s.error?(f(),C("div",Ds,[l("div",Is,"Error: "+q(s.error),1)])):(f(),h(b,{key:2,class:"w-full max-w-[1500px] h-auto bg-surface border-base flex flex-col md:flex-row items-stretch px-6 md:px-10"},{default:_(()=>[l("div",Ns,[l("div",As,[t[22]||(t[22]=l("div",{class:"text-[32px] font-bold text-base"},"Personal Information",-1)),l("div",Ts,[l("div",Rs,[t[17]||(t[17]=l("div",{class:"text-[25px] font-semibold text-base"},"First Name",-1)),s.isEditing?(f(),h(g,{key:1,modelValue:i.value.first_name,"onUpdate:modelValue":t[0]||(t[0]=x=>i.value.first_name=x),onInput:t[1]||(t[1]=x=>d("first_name")),placeholder:"First Name",color:e.value.first_name?"error":"primary"},null,8,["modelValue","color"])):(f(),C("div",{key:0,class:"text-[20px] text-muted truncate max-w-full",title:s.profile?.first_name},q(s.profile?.first_name||"-"),9,js)),e.value.first_name?(f(),C("span",Vs,q(e.value.first_name),1)):S("",!0)]),l("div",Ms,[t[18]||(t[18]=l("div",{class:"text-[25px] font-semibold text-base"},"Middle Name",-1)),s.isEditing?(f(),h(g,{key:1,modelValue:i.value.middle_name,"onUpdate:modelValue":t[2]||(t[2]=x=>i.value.middle_name=x),onInput:t[3]||(t[3]=x=>d("middle_name")),placeholder:"Middle Name",color:e.value.middle_name?"error":"primary"},null,8,["modelValue","color"])):(f(),C("div",{key:0,class:"text-[20px] text-muted truncate max-w-full",title:s.profile?.middle_name},q(s.profile?.middle_name||"-"),9,Ls)),e.value.middle_name?(f(),C("span",Hs,q(e.value.middle_name),1)):S("",!0)]),l("div",zs,[t[19]||(t[19]=l("div",{class:"text-[25px] font-semibold text-base"},"Last Name",-1)),s.isEditing?(f(),h(g,{key:1,modelValue:i.value.last_name,"onUpdate:modelValue":t[4]||(t[4]=x=>i.value.last_name=x),onInput:t[5]||(t[5]=x=>d("last_name")),placeholder:"Last Name",color:e.value.last_name?"error":"primary"},null,8,["modelValue","color"])):(f(),C("div",{key:0,class:"text-[20px] text-muted truncate max-w-full",title:s.profile?.last_name},q(s.profile?.last_name||"-"),9,Ks)),e.value.last_name?(f(),C("span",Ws,q(e.value.last_name),1)):S("",!0)]),l("div",Gs,[t[20]||(t[20]=l("div",{class:"text-[25px] font-semibold text-base"},"Date of Birth",-1)),s.isEditing?(f(),h(g,{key:1,modelValue:i.value.date_of_birth,"onUpdate:modelValue":t[6]||(t[6]=x=>i.value.date_of_birth=x),type:"date"},null,8,["modelValue"])):(f(),C("div",{key:0,class:"text-[20px] text-muted overflow-hidden text-ellipsis whitespace-nowrap",title:s.profile?.date_of_birth},q(s.profile?.date_of_birth||"-"),9,Js))]),l("div",Zs,[t[21]||(t[21]=l("div",{class:"text-[25px] font-semibold text-base whitespace-nowrap"},"Phone Number",-1)),s.isEditing?(f(),h(g,{key:1,modelValue:i.value.phone_number,"onUpdate:modelValue":t[7]||(t[7]=x=>i.value.phone_number=x),onInput:t[8]||(t[8]=x=>d("phone_number")),placeholder:"Phone Number",color:e.value.phone_number?"error":"primary"},null,8,["modelValue","color"])):(f(),C("div",{key:0,class:"text-[20px] text-muted truncate max-w-full",title:s.profile?.phone_number},q(s.profile?.phone_number||"-"),9,Xs)),e.value.phone_number?(f(),C("span",Qs,q(e.value.phone_number),1)):S("",!0)])])]),m(v,{orientation:"vertical",class:"h-[300px]",type:"solid"}),l("div",Ys,[l("div",eo,[t[25]||(t[25]=l("div",{class:"text-[32px] font-bold text-base"},"Address",-1)),l("div",to,[s.isCurrentUser&&!s.isEditing?(f(),h(P,{key:0,onClick:t[9]||(t[9]=x=>a.$emit("startEdit")),icon:"i-heroicons-pencil",color:"primary",variant:"solid",size:"sm"})):S("",!0),s.isCurrentUser&&s.isEditing?(f(),C("div",so,[m(P,{onClick:y,color:"primary",size:"sm"},{default:_(()=>[...t[23]||(t[23]=[E(" Save ",-1)])]),_:1}),m(P,{onClick:t[10]||(t[10]=x=>a.$emit("cancel")),color:"neutral",variant:"outline",size:"sm"},{default:_(()=>[...t[24]||(t[24]=[E(" Cancel ",-1)])]),_:1})])):S("",!0)])]),l("div",oo,[l("div",ro,[t[26]||(t[26]=l("div",{class:"text-[25px] font-semibold text-base"},"Country",-1)),s.isEditing?(f(),h(g,{key:1,modelValue:i.value.address.country,"onUpdate:modelValue":t[11]||(t[11]=x=>i.value.address.country=x),onInput:t[12]||(t[12]=x=>d("address.country")),placeholder:"Country",color:e.value["address.country"]?"error":"primary"},null,8,["modelValue","color"])):(f(),C("div",{key:0,class:"text-[20px] text-muted truncate max-w-full",title:s.profile?.address?.country},q(s.profile?.address?.country||"-"),9,ao)),e.value["address.country"]?(f(),C("span",lo,q(e.value["address.country"]),1)):S("",!0)]),l("div",no,[t[27]||(t[27]=l("div",{class:"text-[25px] font-semibold text-base"},"City",-1)),s.isEditing?(f(),h(g,{key:1,modelValue:i.value.address.city,"onUpdate:modelValue":t[13]||(t[13]=x=>i.value.address.city=x),placeholder:"City"},null,8,["modelValue"])):(f(),C("div",{key:0,class:"text-[20px] text-muted truncate max-w-full",title:s.profile?.address?.city},q(s.profile?.address?.city||"-"),9,io))]),l("div",uo,[t[28]||(t[28]=l("div",{class:"text-[25px] font-semibold text-base"},"Barangay",-1)),s.isEditing?(f(),h(g,{key:1,modelValue:i.value.address.barangay,"onUpdate:modelValue":t[14]||(t[14]=x=>i.value.address.barangay=x),placeholder:"Barangay"},null,8,["modelValue"])):(f(),C("div",{key:0,class:"text-[20px] text-muted truncate max-w-full",title:s.profile?.address?.barangay},q(s.profile?.address?.barangay||"-"),9,co))]),l("div",fo,[t[29]||(t[29]=l("div",{class:"text-[25px] font-semibold text-base"},"Street",-1)),s.isEditing?(f(),h(g,{key:1,modelValue:i.value.address.street,"onUpdate:modelValue":t[15]||(t[15]=x=>i.value.address.street=x),placeholder:"Street"},null,8,["modelValue"])):(f(),C("div",{key:0,class:"text-[20px] text-muted truncate max-w-full",title:s.profile?.address?.street},q(s.profile?.address?.street||"-"),9,po))]),l("div",mo,[t[30]||(t[30]=l("div",{class:"text-[25px] font-semibold text-base"},"Postal Code",-1)),s.isEditing?(f(),h(g,{key:1,modelValue:i.value.address.postal_code,"onUpdate:modelValue":t[16]||(t[16]=x=>i.value.address.postal_code=x),placeholder:"Postal Code"},null,8,["modelValue"])):(f(),C("div",{key:0,class:"text-[20px] text-muted truncate max-w-full",title:s.profile?.address?.postal_code},q(s.profile?.address?.postal_code||"-"),9,vo))])])])])]),_:1}))}}}),ko=Object.assign(yo,{__name:"ProfileAdditionalInfo"});export{$o as P,Pt as a,ko as b,Co as u};
