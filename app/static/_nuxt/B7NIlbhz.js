import{j as C,aG as G,aJ as J,q as P,aY as X,r as d,i as e,aI as b,h as p,o as n,w as i,L as D,P as w,A as H,bi as K,b as I,b4 as Y,bK as x,aK as z,B as _,b5 as M,b6 as R,b7 as Q,E as W,H as Z,e as ee,aT as te,aM as ae,ba as oe,aX as S,f as j,g as N,n as B,bo as se,bj as le,d as k,t as E,c as F,a as re,l as ne}from"#entry";import{F as ue,a as ie,u as de}from"./BDYeLtO0.js";import{u as T}from"./QkSgYxCE.js";import{g as pe}from"./DNBF-Q6I.js";const[q,fe]=G("DialogRoot");var ce=C({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(o,{emit:r}){const t=o,a=J(t,"open",r,{defaultValue:t.defaultOpen,passive:t.open===void 0}),v=P(),g=P(),{modal:f}=X(t);return fe({open:a,modal:f,openModal:()=>{a.value=!0},onOpenChange:u=>{a.value=u},onOpenToggle:()=>{a.value=!a.value},contentId:"",titleId:"",descriptionId:"",triggerElement:v,contentElement:g}),(u,l)=>d(u.$slots,"default",{open:e(a),close:()=>a.value=!1})}}),ve=ce,ye=C({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(o){const r=o;b();const t=q();return(s,a)=>(n(),p(e(w),D(r,{type:s.as==="button"?"button":void 0,onClick:a[0]||(a[0]=v=>e(t).onOpenChange(!1))}),{default:i(()=>[d(s.$slots,"default")]),_:3},16,["type"]))}}),ge=ye,me=C({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:r}){const t=o,s=r,a=q(),{forwardRef:v,currentElement:g}=b();return a.titleId||=T(void 0,"reka-dialog-title"),a.descriptionId||=T(void 0,"reka-dialog-description"),H(()=>{a.contentElement=g,K()!==document.body&&(a.triggerElement.value=K())}),(f,u)=>(n(),p(e(ue),{"as-child":"",loop:"",trapped:t.trapFocus,onMountAutoFocus:u[5]||(u[5]=l=>s("openAutoFocus",l)),onUnmountAutoFocus:u[6]||(u[6]=l=>s("closeAutoFocus",l))},{default:i(()=>[I(e(Y),D({id:e(a).contentId,ref:e(v),as:f.as,"as-child":f.asChild,"disable-outside-pointer-events":f.disableOutsidePointerEvents,role:"dialog","aria-describedby":e(a).descriptionId,"aria-labelledby":e(a).titleId,"data-state":e(pe)(e(a).open.value)},f.$attrs,{onDismiss:u[0]||(u[0]=l=>e(a).onOpenChange(!1)),onEscapeKeyDown:u[1]||(u[1]=l=>s("escapeKeyDown",l)),onFocusOutside:u[2]||(u[2]=l=>s("focusOutside",l)),onInteractOutside:u[3]||(u[3]=l=>s("interactOutside",l)),onPointerDownOutside:u[4]||(u[4]=l=>s("pointerDownOutside",l))}),{default:i(()=>[d(f.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),U=me,_e=C({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:r}){const t=o,s=r,a=q(),v=x(s),{forwardRef:g,currentElement:f}=b();return ie(f),(u,l)=>(n(),p(U,D({...t,...e(v)},{ref:e(g),"trap-focus":e(a).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:l[0]||(l[0]=c=>{c.defaultPrevented||(c.preventDefault(),e(a).triggerElement.value?.focus())}),onPointerDownOutside:l[1]||(l[1]=c=>{const m=c.detail.originalEvent,y=m.button===0&&m.ctrlKey===!0;(m.button===2||y)&&c.preventDefault()}),onFocusOutside:l[2]||(l[2]=c=>{c.preventDefault()})}),{default:i(()=>[d(u.$slots,"default")]),_:3},16,["trap-focus"]))}}),De=_e,Ce=C({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:r}){const t=o,a=x(r);b();const v=q(),g=P(!1),f=P(!1);return(u,l)=>(n(),p(U,D({...t,...e(a)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:l[0]||(l[0]=c=>{c.defaultPrevented||(g.value||e(v).triggerElement.value?.focus(),c.preventDefault()),g.value=!1,f.value=!1}),onInteractOutside:l[1]||(l[1]=c=>{c.defaultPrevented||(g.value=!0,c.detail.originalEvent.type==="pointerdown"&&(f.value=!0));const m=c.target;e(v).triggerElement.value?.contains(m)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&f.value&&c.preventDefault()})}),{default:i(()=>[d(u.$slots,"default")]),_:3},16))}}),be=Ce,qe=C({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:r}){const t=o,s=r,a=q(),v=x(s),{forwardRef:g}=b();return(f,u)=>(n(),p(e(z),{present:f.forceMount||e(a).open.value},{default:i(()=>[e(a).modal.value?(n(),p(De,D({key:0,ref:e(g)},{...t,...e(v),...f.$attrs}),{default:i(()=>[d(f.$slots,"default")]),_:3},16)):(n(),p(be,D({key:1,ref:e(g)},{...t,...e(v),...f.$attrs}),{default:i(()=>[d(f.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Oe=qe,Be=C({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(o){const r=o;b();const t=q();return(s,a)=>(n(),p(e(w),D(r,{id:e(t).descriptionId}),{default:i(()=>[d(s.$slots,"default")]),_:3},16,["id"]))}}),V=Be,he=C({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const r=q();return de(!0),b(),(t,s)=>(n(),p(e(w),{as:t.as,"as-child":t.asChild,"data-state":e(r).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:i(()=>[d(t.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),we=he,$e=C({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const r=q(),{forwardRef:t}=b();return(s,a)=>e(r)?.modal.value?(n(),p(e(z),{key:0,present:s.forceMount||e(r).open.value},{default:i(()=>[I(we,D(s.$attrs,{ref:e(t),as:s.as,"as-child":s.asChild}),{default:i(()=>[d(s.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):_("v-if",!0)}}),ke=$e,Ee=C({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(o){const r=o;return(t,s)=>(n(),p(e(Q),M(R(r)),{default:i(()=>[d(t.$slots,"default")]),_:3},16))}}),Pe=Ee,Ie=C({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(o){const r=o,t=q();return b(),(s,a)=>(n(),p(e(w),D(r,{id:e(t).titleId}),{default:i(()=>[d(s.$slots,"default")]),_:3},16,["id"]))}}),L=Ie,Ae=C({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(o){const r=o,t=q(),{forwardRef:s,currentElement:a}=b();return t.contentId||=T(void 0,"reka-dialog-content"),H(()=>{t.triggerElement.value=a.value}),(v,g)=>(n(),p(e(w),D(r,{ref:e(s),type:v.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(t).open.value||!1,"aria-controls":e(t).open.value?e(t).contentId:void 0,"data-state":e(t).open.value?"open":"closed",onClick:e(t).onOpenToggle}),{default:i(()=>[d(v.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),Fe=Ae;const Me={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-lg shadow-lg ring ring-default overflow-hidden"}}}},Se={__name:"UModal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:[String,Object],required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(o,{emit:r}){const t=o,s=r,a=W(),{t:v}=Z(),g=ee(),f=te(ae(t,"open","defaultOpen","modal"),s),u=oe(S(()=>t.portal)),l=S(()=>t.content),c=j(()=>{const y={closeAutoFocus:O=>O.preventDefault()};return t.dismissible?y:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce(($,h)=>($[h]=A=>{A.preventDefault(),s("close:prevent")},$),y)}),m=j(()=>N({extend:N(Me),...g.ui?.modal||{}})({transition:t.transition,fullscreen:t.fullscreen}));return(y,O)=>(n(),p(e(ve),M(R(e(f))),{default:i(({open:$,close:h})=>[a.default?(n(),p(e(Fe),{key:0,"as-child":"",class:B(t.class)},{default:i(()=>[d(y.$slots,"default",{open:$})]),_:2},1032,["class"])):_("",!0),I(e(Pe),M(R(e(u))),{default:i(()=>[o.overlay?(n(),p(e(ke),{key:0,class:B(m.value.overlay({class:t.ui?.overlay}))},null,8,["class"])):_("",!0),I(e(Oe),D({class:m.value.content({class:[!a.default&&t.class,t.ui?.content]})},l.value,{onAfterEnter:O[0]||(O[0]=A=>s("after:enter")),onAfterLeave:O[1]||(O[1]=A=>s("after:leave"))},se(c.value)),{default:i(()=>[a.content&&(o.title||a.title||o.description||a.description)?(n(),p(e(le),{key:0},{default:i(()=>[o.title||a.title?(n(),p(e(L),{key:0},{default:i(()=>[d(y.$slots,"title",{},()=>[k(E(o.title),1)])]),_:3})):_("",!0),o.description||a.description?(n(),p(e(V),{key:1},{default:i(()=>[d(y.$slots,"description",{},()=>[k(E(o.description),1)])]),_:3})):_("",!0)]),_:3})):_("",!0),d(y.$slots,"content",{close:h},()=>[a.header||o.title||a.title||o.description||a.description||t.close||a.close?(n(),F("div",{key:0,class:B(m.value.header({class:t.ui?.header}))},[d(y.$slots,"header",{close:h},()=>[re("div",{class:B(m.value.wrapper({class:t.ui?.wrapper}))},[o.title||a.title?(n(),p(e(L),{key:0,class:B(m.value.title({class:t.ui?.title}))},{default:i(()=>[d(y.$slots,"title",{},()=>[k(E(o.title),1)])]),_:3},8,["class"])):_("",!0),o.description||a.description?(n(),p(e(V),{key:1,class:B(m.value.description({class:t.ui?.description}))},{default:i(()=>[d(y.$slots,"description",{},()=>[k(E(o.description),1)])]),_:3},8,["class"])):_("",!0)],2),d(y.$slots,"actions"),t.close||a.close?(n(),p(e(ge),{key:0,"as-child":""},{default:i(()=>[d(y.$slots,"close",{close:h,ui:m.value},()=>[t.close?(n(),p(ne,D({key:0,icon:o.closeIcon||e(g).ui.icons.close,color:"neutral",variant:"ghost","aria-label":e(v)("modal.close")},typeof t.close=="object"?t.close:{},{class:m.value.close({class:t.ui?.close})}),null,16,["icon","aria-label","class"])):_("",!0)])]),_:2},1024)):_("",!0)])],2)):_("",!0),a.body?(n(),F("div",{key:1,class:B(m.value.body({class:t.ui?.body}))},[d(y.$slots,"body",{close:h})],2)):_("",!0),a.footer?(n(),F("div",{key:2,class:B(m.value.footer({class:t.ui?.footer}))},[d(y.$slots,"footer",{close:h})],2)):_("",!0)])]),_:2},1040,["class"])]),_:2},1040)]),_:3},16))}};export{Se as _};
