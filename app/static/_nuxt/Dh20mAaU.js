import{ai as B,j as w,q as h,A as g,c as f,o as p,b as o,a as e,t as u,i as t,_ as v,w as _,az as P,Q as z}from"#entry";import{_ as L}from"./5MqpBYnd.js";import{_ as N}from"./JhUiaiGg.js";import{_ as j}from"./BvFGTDkj.js";import{u as C}from"./mqmIq7AT.js";import{P as D,a as I}from"./8CQo4lZ9.js";import"./C7gYzAMW.js";import"./B8ufzAAH.js";import"./QkSgYxCE.js";import"./CoCDlcmg.js";import"./DJUnOCSR.js";import"./BOfFLyal.js";import"./B1FJlU1A.js";import"./BYnHXhte.js";import"./kRIii9yh.js";import"./CxmxAOEW.js";import"./DlAUqK2U.js";import"./CBf3hF8c.js";import"./DGycg10u.js";import"./DFFHip2M.js";function U(a){const{$apiFetch:n}=B();return n(`/api/users/library-details/${a}`,{method:"GET",credentials:"include"})}const O={key:0,class:"w-full max-w-[1500px] h-auto bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 border-radius rounded-lg flex flex-col items-stretch px-16 gap-8 py-6"},R={class:"flex-1 flex w-full items-stretch mb-8"},V={class:"flex-1 flex gap-x-10 w-full pr-20"},A={class:"flex-1 flex flex-col gap-2"},E={class:"flex-1 flex flex-col gap-2"},F={class:"flex-1 flex flex-col gap-2"},S={key:1,class:"w-[1500px] h-[350px] bg-surface border-base flex items-center justify-center"},T={class:"text-lg text-red-500"},G={key:2,class:"w-full max-w-[1500px] h-auto bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 border-radius rounded-lg flex flex-col items-stretch px-16 py-6"},M={class:"flex-1 flex w-full items-stretch mb-8"},q={class:"flex-1 flex gap-x-10 w-full pr-20"},Q={class:"flex-1 flex flex-col"},H={class:"text-[20px] text-muted truncate max-w-full"},J={class:"flex-1 flex flex-col"},K={class:"text-[20px] text-muted truncate max-w-full"},W={class:"flex-1 flex flex-col"},X={class:"text-[20px] text-muted truncate max-w-full"},Y={class:"truncate block max-w-[225px] sm:max-w-[325px] md:max-w-[375px] lg:max-w-[475px] xl:max-w-[525px] 2xl:max-w-[625px]"},Z=w({__name:"ProfileLibraryDetails",props:{profile:{},loading:{type:Boolean},error:{},userId:{}},setup(a){const n=a,c=n.userId,d=h(0),m=h(0),x=h(0);return g(async()=>{const l=await U(c);d.value=l.booksOwned??0,m.value=l.booksRented??0,x.value=l.booksBought??0}),(l,s)=>{const r=N,i=j,b=v;return n.loading?(p(),f("div",O,[o(r,{class:"h-10 w-64"}),e("div",R,[e("div",V,[e("div",A,[o(r,{class:"h-8 w-45"}),o(r,{class:"h-6 w-10"})]),e("div",E,[o(r,{class:"h-8 w-45"}),o(r,{class:"h-6 w-10"})]),e("div",F,[o(r,{class:"h-8 w-45"}),o(r,{class:"h-6 w-10"})])]),o(r,{class:"flex-1 flex h-auto"})])])):a.error?(p(),f("div",S,[e("div",T,"Error: "+u(a.error),1)])):(p(),f("div",G,[s[3]||(s[3]=e("div",{class:"text-[32px] font-bold text-base pb-8"},"Library Details",-1)),e("div",M,[e("div",q,[e("div",Q,[s[0]||(s[0]=e("div",{class:"text-[25px] font-semibold text-base"},"Owned Books",-1)),e("div",H,u(t(d)),1)]),e("div",J,[s[1]||(s[1]=e("div",{class:"text-[25px] font-semibold text-base"},"Rented Books",-1)),e("div",K,u(t(m)),1)]),e("div",W,[s[2]||(s[2]=e("div",{class:"text-[25px] font-semibold text-base"},"Bought Books",-1)),e("div",X,u(t(x)),1)])]),o(b,{to:`/users/${t(c)}/collection`,class:"flex-1 flex h-auto items-center justify-center font-bold text-2xl cursor-pointer bg-primary-600 rounded-xl"},{default:_(()=>[o(i,{text:`View ${n.profile?.username||"-"}'s book collection`},{default:_(()=>[e("span",Y," View "+u(n.profile?.username||"-")+"'s book collection ",1)]),_:1},8,["text"])]),_:1},8,["to"])])]))}}}),ee=Object.assign(Z,{__name:"ProfileLibraryDetails"}),te={class:"min-h-screen w-full py-10 px-4 md:px-8 lg:px-15"},oe={key:0,class:"flex items-center justify-center h-screen"},se={class:"text-center p-6"},re={key:1,class:"mt-20 gap-10 flex flex-col justify-center items-center"},Be=w({__name:"index",setup(a){const c=P().params.id,{profile:d,fetchProfile:m,loading:x,error:l,isUserNotFound:s}=C(c);return g(()=>{m()}),(r,i)=>{const b=z,k=v,y=L,$=ee;return p(),f("div",te,[t(s)?(p(),f("div",oe,[o(y,{class:"bg-surface border-base max-w-md"},{default:_(()=>[e("div",se,[o(b,{name:"i-heroicons-exclamation-triangle",class:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),i[1]||(i[1]=e("h2",{class:"text-2xl font-bold text-base mb-2"}," User Not Found ",-1)),i[2]||(i[2]=e("p",{class:"text-muted mb-4"}," The user you're trying to view does not exist or may have been removed. ",-1)),o(k,{to:"/users/me",class:"px-6 py-2 bg-accent text-white rounded-lg hover:bg-accent/90 transition cursor-pointer"},{default:_(()=>[...i[0]||(i[0]=[e("span",null," Go Back ",-1)])]),_:1})])]),_:1})])):(p(),f("div",re,[o(D,{profile:t(d),loading:t(x),error:t(l),"user-id":t(c)},null,8,["profile","loading","error","user-id"]),o(I,{profile:t(d),loading:t(x),error:t(l)},null,8,["profile","loading","error"]),o($,{profile:t(d),loading:t(x),error:t(l),"user-id":t(c)},null,8,["profile","loading","error","user-id"])]))])}}});export{Be as default};
