import{_ as v}from"./D_w8QJik.js";import{_ as k}from"./CJ5A0XCs.js";import{W as y,e as h,x as m,I as w,c as u,o as p,b as s,a as e,t as x,k as t,_ as $,w as b,$ as B}from"#entry";import{u as P,P as z,b as D}from"./BVnNvWyP.js";import"./CvhSEr8e.js";import"./DJSAEPoY.js";import"./DlAUqK2U.js";import"./C257s8ZL.js";function I(a){const{$apiFetch:i}=y();return i(`/api/users/library-details/${a}`,{method:"GET",credentials:"include"})}const L={key:0,class:"w-full max-w-[1500px] h-auto bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 border-radius rounded-lg flex flex-col items-stretch px-16 gap-8 py-6"},C={class:"flex-1 flex w-full items-stretch mb-8"},j={class:"flex-1 flex gap-x-10 w-full pr-20"},N={class:"flex-1 flex flex-col gap-2"},O={class:"flex-1 flex flex-col gap-2"},R={class:"flex-1 flex flex-col gap-2"},V={key:1,class:"w-[1500px] h-[350px] bg-surface border-base flex items-center justify-center"},E={class:"text-lg text-red-500"},S={key:2,class:"w-full max-w-[1500px] h-auto bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 border-radius rounded-lg flex flex-col items-stretch px-16 py-6"},A={class:"flex-1 flex w-full items-stretch mb-8"},M={class:"flex-1 flex gap-x-10 w-full pr-20"},T={class:"flex-1 flex flex-col"},U={class:"text-[20px] text-muted truncate max-w-full"},F={class:"flex-1 flex flex-col"},G={class:"text-[20px] text-muted truncate max-w-full"},W={class:"flex-1 flex flex-col"},q={class:"text-[20px] text-muted truncate max-w-full"},H={class:"truncate block max-w-[225px] sm:max-w-[325px] md:max-w-[375px] lg:max-w-[475px] xl:max-w-[525px] 2xl:max-w-[625px]"},J=h({__name:"ProfileLibraryDetails",props:{profile:{},loading:{type:Boolean},error:{},userId:{}},setup(a){const i=a,n=i.userId,c=m(0),f=m(0),d=m(0);return w(async()=>{const r=await I(n);c.value=r.booksOwned??0,f.value=r.booksRented??0,d.value=r.booksBought??0}),(r,o)=>{const l=v,_=k,g=$;return i.loading?(p(),u("div",L,[s(l,{class:"h-10 w-64"}),e("div",C,[e("div",j,[e("div",N,[s(l,{class:"h-8 w-45"}),s(l,{class:"h-6 w-10"})]),e("div",O,[s(l,{class:"h-8 w-45"}),s(l,{class:"h-6 w-10"})]),e("div",R,[s(l,{class:"h-8 w-45"}),s(l,{class:"h-6 w-10"})])]),s(l,{class:"flex-1 flex h-auto"})])])):a.error?(p(),u("div",V,[e("div",E,"Error: "+x(a.error),1)])):(p(),u("div",S,[o[3]||(o[3]=e("div",{class:"text-[32px] font-bold text-base pb-8"},"Library Details",-1)),e("div",A,[e("div",M,[e("div",T,[o[0]||(o[0]=e("div",{class:"text-[25px] font-semibold text-base"},"Owned Books",-1)),e("div",U,x(t(c)),1)]),e("div",F,[o[1]||(o[1]=e("div",{class:"text-[25px] font-semibold text-base"},"Rented Books",-1)),e("div",G,x(t(f)),1)]),e("div",W,[o[2]||(o[2]=e("div",{class:"text-[25px] font-semibold text-base"},"Bought Books",-1)),e("div",q,x(t(d)),1)])]),s(g,{to:`/users/${t(n)}/collection`,class:"flex-1 flex h-auto items-center justify-center font-bold text-2xl cursor-pointer bg-primary-600 rounded-xl"},{default:b(()=>[s(_,{text:`View ${i.profile?.username||"-"}'s book collection`},{default:b(()=>[e("span",H," View "+x(i.profile?.username||"-")+"'s book collection ",1)]),_:1},8,["text"])]),_:1},8,["to"])])]))}}}),K=Object.assign(J,{__name:"ProfileLibraryDetails"}),Q={class:"min-h-screen w-full py-10 px-4 md:px-8 lg:px-15"},X={class:"mt-20 gap-10 flex flex-col justify-center items-center"},ie=h({__name:"index",setup(a){const n=B().params.id,{profile:c,fetchProfile:f,loading:d,error:r}=P(n);return w(()=>{f()}),(o,l)=>{const _=K;return p(),u("div",Q,[e("div",X,[s(z,{profile:t(c),loading:t(d),error:t(r),"user-id":t(n)},null,8,["profile","loading","error","user-id"]),s(D,{profile:t(c),loading:t(d),error:t(r)},null,8,["profile","loading","error"]),s(_,{profile:t(c),loading:t(d),error:t(r),"user-id":t(n)},null,8,["profile","loading","error","user-id"])])])}}});export{ie as default};
