import{_ as S}from"./BBAx4NdI.js";import{e as T,p as $,r as y,c as A,o as h,a as r,b as d,g as C,t as p,l as a,w as l,f as v,s as x,h as F,d as P,_ as B}from"#entry";import{_ as q}from"./BLPNKcz8.js";import{_ as N,a as E}from"./CaR4n5fY.js";function j(s,g){const m=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,c=/^.{8,}$/,n=/^\s*$/,e=[];return g==="login"&&(!s.emailAddress||n.test(s.emailAddress)?e.push({name:"emailAddress",message:"Email address is required."}):s.emailAddress&&!m.test(s.emailAddress)&&e.push({name:"emailAddress",message:"Wrong email address format."}),!s.password||n.test(s.password)?e.push({name:"password",message:"Password is required."}):s.password&&!c.test(s.password)&&e.push({name:"password",message:"Passwords should be at least 8 characters long."})),g==="signup"&&(!s.username||n.test(s.username)?e.push({name:"username",message:"Username is required."}):s.username&&s.username.length<3?e.push({name:"username",message:"Username must be at least 3 characters long."}):s.username&&s.username.length>64&&e.push({name:"username",message:"Username must not exceed 64 characters."}),!s.emailAddress||n.test(s.emailAddress)?e.push({name:"emailAddress",message:"Email address is required."}):s.emailAddress&&!m.test(s.emailAddress)&&e.push({name:"emailAddress",message:"Wrong email address format."}),!s.password||n.test(s.password)?e.push({name:"password",message:"Password is required."}):s.password&&!c.test(s.password)?e.push({name:"password",message:"Passwords should be at least 8 characters long."}):s.password&&s.password.length>64&&e.push({name:"password",message:"Password must not exceed 64 characters."}),!s.confirmPassword||n.test(s.confirmPassword)?e.push({name:"confirmPassword",message:"Confirm password is required."}):s.password!==s.confirmPassword&&e.push({name:"confirmPassword",message:"Passwords do not match."})),e}const R={class:"flex flex-col gap-10 box-border px-[10%] pb-[10%] max-w-2xl w-full"},z={class:"mr-auto"},D={class:"flex gap-3"},H={class:"flex flex-col gap-1"},I={class:"text-3xl font-bold"},O={key:2,class:"w-full"},W={class:"flex gap-1"},M={class:"text-sm"},G=T({__name:"AuthForm",props:{authType:{},isLoading:{type:Boolean}},emits:["onSubmitLogin","onSubmitSignup"],setup(s,{emit:g}){const m=s,c=g,n=$({emailAddress:"",password:"",username:"",confirmPassword:""}),e=y(!1),u=y(!1),L=async t=>{m.authType==="login"?c("onSubmitLogin",t.data.emailAddress,t.data.password):m.authType==="signup"&&c("onSubmitSignup",t.data.username,t.data.emailAddress,t.data.password)};return(t,o)=>{const _=S,V=C,w=q,f=E,b=F,k=B,U=N;return h(),A("div",R,[r("div",z,[d(_)]),r("div",D,[d(V,{name:"icons:logo",class:"w-12 h-12"}),o[7]||(o[7]=r("h1",{class:"text-5xl font-extrabold"},"Libris",-1))]),r("div",H,[r("h2",I,p(s.authType==="login"?"Login":"Sign Up"),1),r("h3",null,p(s.authType==="login"?"Open the door to endless reading --- your next book awaits.":"Create your account and start your reading journey today."),1)]),d(U,{validate:i=>("validateAuthForm"in t?t.validateAuthForm:a(j))(i,m.authType),state:a(n),class:"space-y-4",onSubmit:o[6]||(o[6]=i=>L(i))},{default:l(()=>[s.authType==="signup"?(h(),v(f,{key:0,label:"Username",name:"username"},{default:l(()=>[d(w,{modelValue:a(n).username,"onUpdate:modelValue":o[0]||(o[0]=i=>a(n).username=i),class:"w-100",disabled:s.isLoading},null,8,["modelValue","disabled"])]),_:1})):x("",!0),d(f,{label:"Email Address",name:"emailAddress"},{default:l(()=>[d(w,{modelValue:a(n).emailAddress,"onUpdate:modelValue":o[1]||(o[1]=i=>a(n).emailAddress=i),class:"w-100",disabled:s.isLoading},null,8,["modelValue","disabled"])]),_:1}),d(f,{label:"Password",name:"password"},{default:l(()=>[d(w,{modelValue:a(n).password,"onUpdate:modelValue":o[3]||(o[3]=i=>a(n).password=i),type:a(e)?"text":"password",class:"w-100",disabled:s.isLoading,ui:{trailing:"pe-1"}},{trailing:l(()=>[d(b,{color:"neutral",variant:"link",size:"sm",icon:a(e)?"heroicons:eye-slash":"heroicons:eye","aria-label":a(e)?"Hide password":"Show password","aria-pressed":a(e),disabled:s.isLoading,onClick:o[2]||(o[2]=i=>e.value=!a(e))},null,8,["icon","aria-label","aria-pressed","disabled"])]),_:1},8,["modelValue","type","disabled"])]),_:1}),s.authType==="signup"?(h(),v(f,{key:1,label:"Confirm Password",name:"confirmPassword"},{default:l(()=>[d(w,{modelValue:a(n).confirmPassword,"onUpdate:modelValue":o[5]||(o[5]=i=>a(n).confirmPassword=i),type:a(u)?"text":"password",class:"w-100",disabled:s.isLoading,ui:{trailing:"pe-1"}},{trailing:l(()=>[d(b,{color:"neutral",variant:"link",size:"sm",icon:a(u)?"heroicons:eye-slash":"heroicons:eye","aria-label":a(u)?"Hide password":"Show password","aria-pressed":a(u),disabled:s.isLoading,onClick:o[4]||(o[4]=i=>u.value=!a(u))},null,8,["icon","aria-label","aria-pressed","disabled"])]),_:1},8,["modelValue","type","disabled"])]),_:1})):x("",!0),s.authType==="login"?(h(),A("div",O,[...o[8]||(o[8]=[r("p",{class:"text-sm inline-block text-violet-700 dark:text-violet-500 cursor-pointer"}," Forgot your password? ",-1)])])):x("",!0),d(b,{type:"submit",class:"w-100 h-9 cursor-pointer justify-center text-lg font-bold",disabled:s.isLoading,loading:s.isLoading},{default:l(()=>[P(p(s.isLoading?s.authType==="login"?"Logging in...":"Please wait...":s.authType==="login"?"Login":"Sign Up"),1)]),_:1},8,["disabled","loading"]),r("div",W,[r("p",M,p(s.authType==="login"?"Don't have an account?":"Already have an account?"),1),d(k,{to:s.authType==="login"?"/signup":"/login",class:"text-sm text-violet-700 dark:text-violet-500 cursor-pointer"},{default:l(()=>[P(p(s.authType==="login"?"Sign Up":"Login"),1)]),_:1},8,["to"])])]),_:1},8,["validate","state"])])}}}),Y=Object.assign(G,{__name:"AuthForm"});export{Y as _};
