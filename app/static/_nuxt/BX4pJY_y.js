import{f as m,bF as h,bC as p,a$ as x,bi as I}from"#entry";function N(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(e,t))}function C(t){return m(()=>h(t)?!!p(t)?.closest("form"):!0)}function M(t){const e=x("",1e3);return{search:e,handleTypeaheadSearch:(u,f)=>{e.value=e.value+u;{const o=I(),s=f.map(a=>({...a,textValue:a.value?.textValue??a.ref.textContent?.trim()??""})),c=s.find(a=>a.ref===o),r=s.map(a=>a.textValue),d=V(r,e.value,c?.textValue),i=s.find(a=>a.textValue===d);return i&&i.ref.focus(),i?.ref}},resetTypeahead:()=>{e.value=""}}}function T(t,e){return t.map((n,l)=>t[(e+l)%t.length])}function V(t,e,n){const u=e.length>1&&Array.from(e).every(r=>r===e[0])?e[0]:e,f=n?t.indexOf(n):-1;let o=T(t,Math.max(f,0));u.length===1&&(o=o.filter(r=>r!==n));const c=o.find(r=>r.toLowerCase().startsWith(u.toLowerCase()));return c!==n?c:void 0}export{M as a,N as c,C as u};
